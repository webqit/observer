(()=>{var ge=Object.defineProperty;var he=(e,t)=>{for(var n in t)ge(e,n,{get:t[n],enumerable:!0})};var ue={};he(ue,{accessorize:()=>qe,apply:()=>oe,construct:()=>ne,deep:()=>Ce,defineProperties:()=>ze,defineProperty:()=>te,deleteProperty:()=>re,get:()=>F,getOwnPropertyDescriptor:()=>Z,getOwnPropertyDescriptors:()=>Fe,getPrototypeOf:()=>k,has:()=>U,intercept:()=>Se,isExtensible:()=>ee,observe:()=>Ne,ownKeys:()=>Q,preventExtensions:()=>fe,proxy:()=>Be,set:()=>W,setPrototypeOf:()=>ie,unaccessorize:()=>De,unproxy:()=>V});function I(e){return arguments.length&&(e===void 0||typeof e>"u")}function R(e){return typeof e=="function"}function v(e){return R(e)||e&&{}.toString.call(e)==="[object function]"}function w(e){return Array.isArray(e)}function M(e){return e instanceof String||typeof e=="string"&&e!==null}function H(e){return!M(e)&&!I(e.length)}function G(e){return e===null||e===""}function O(e){return Array.isArray(e)||typeof e=="object"&&e||R(e)}function J(e){return G(e)||I(e)||e===!1||e===0||O(e)&&!Object.keys(e).length}function g(e){return!Array.isArray(e)&&typeof e=="object"&&e}function j(e,t=!0){return w(e)?e:!t&&g(e)?[e]:e!==!1&&e!==0&&J(e)?[]:H(e)?Array.prototype.slice.call(e):g(e)?Object.values(e):[e]}function D(e){return typeof e}function y(e,...t){globalThis.WebQitInternalsRegistry||(globalThis.WebQitInternalsRegistry=new Map);var n=globalThis.WebQitInternalsRegistry.get(e);if(!n){if(n=new Map,t[0]===!1)return n;globalThis.WebQitInternalsRegistry.set(e,n)}for(var r,o;r=t.shift();)if((o=n)&&!(n=n.get(r))){if(n=new Map,t[0]===!1)return n;o.set(r,n)}return n}function Y(e){return R(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}var C=class{constructor(t,n){this.registry=t,Object.assign(this,{...n,target:t.target}),this.params.signal&&this.params.signal.addEventListener("abort",()=>this.remove())}remove(){return this.removed=!0,this.registry.removeRegistration(this)}};var B=class extends C{constructor(){super(...arguments),this.params.signal&&this.params.signal.addEventListener("abort",()=>this.remove()),Object.defineProperty(this,"abortController",{value:new AbortController}),Object.defineProperty(this,"signal",{value:this.abortController.signal})}remove(){this.abortController.abort(),super.remove()}fire(t){let n=t,r=this.filter;if(r!==1/0&&(r=j(r))&&(n=t.filter(o=>r.includes(o.name))),n.length)return this.filter===1/0||Array.isArray(this.filter)?this.handler(n,this):this.handler(n[0],this)}};var N=class{constructor(t){this.target=t,this.entries=[]}addRegistration(t){return this.entries.push(t),t}removeRegistration(t){this.entries=this.entries.filter(n=>n!==t)}static _getInstance(t,n,r=!0,o=this.__namespace){if(!O(n))throw new Error(`Subject must be of type object; "${D(n)}" given!`);let f=this;return o&&globalThis.WebQitObserverNamespaceRegistry.has(t+"-"+o)&&(f=globalThis.WebQitObserverNamespaceRegistry.get(t+"-"+o),t+="-"+o),!y(n,"observerApi").has(t)&&r&&y(n,"observerApi").set(t,new f(n)),y(n,"observerApi").get(t)}static _namespace(t,n,r=null){if(t+="-"+n,arguments.length===2)return globalThis.WebQitObserverNamespaceRegistry.get(t);if(!(r.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${n} must be a subclass of ${this.name}.`);globalThis.WebQitObserverNamespaceRegistry.set(t,r),r.__namespace=n}};globalThis.WebQitObserverNamespaceRegistry||(globalThis.WebQitObserverNamespaceRegistry=new Map);var S=class extends N{static getInstance(t,n=!0,r=null){return super._getInstance("events",...arguments)}static namespace(t,n=null){return super._namespace("events",...arguments)}addRegistration(t,n,r){return super.addRegistration(new B(this,{filter:t,handler:n,params:r}))}emit(t){this.entries.forEach(n=>n.fire(t))}};var L=class extends C{exec(t,n,r){return this.running||!this.traps[t.type]?n(...Array.prototype.slice.call(arguments,2)):(this.running=!0,this.traps[t.type](t,r,(...o)=>(this.running=!1,n(...o))))}};var E=class extends N{static getInstance(t,n=!0,r=null){return super._getInstance("operations",...arguments)}static namespace(t,n=null){return super._namespace("operations",...arguments)}addRegistration(t){return super.addRegistration(new L(this,t))}emit(t,n=null){let r=this;return function o(f,...s){let a=r.entries[f];return a?a.exec(t,(...i)=>o(f+1,...i),...s):n?n(t,...s):s[0]}(0)}};var P=class{constructor(t,n){if(this.target=t,!n.type)throw new Error("Operation type must be given in definition!");Object.assign(this,n)}};function Ce(e,t,n,r,o={}){return function f(s,a,i,...u){let c=a.shift();return n(s,c,(p,...d)=>{let m=()=>({...i,level:i.level+1}),h=l=>{l instanceof P&&(l.path=(s instanceof P?s.path:[]).concat(l.name))};if($(c)&&Array.isArray(p))return p.forEach(h),!a.length||!p.length&&i.midWayResults?r(p,...d):p.map(l=>f(l,a.slice(0),m(),...d));h(p);let _=O(z(p));return!a.length||!_&&i.midWayResults?r(p,...d):_&&f(p,a,m(),...d)},i,...u)}(e,t.slice(0),{...o,level:0})}function Ne(e,t,n,r={},o=!1,f=null){if(e=z(e),v(arguments[1])&&([,n,r={},f=null]=arguments,t=1/0),!v(n))throw new Error(`Handler must be a function; "${D(n)}" given!`);f||(f=new AbortController);let s=S.getInstance(e,!0,r.namespace);return F(e,t,a=>{(function i(u,c=null){c&&c.remove();let p=s.addRegistration(t,i,{...r,signal:f.signal});n(u,o||!!c,p)})(a)},{...r,asOperation:!0}),f}function Se(e,t,n={}){return e=z(e),g(t)||([,,,n={}]=arguments,t={[arguments[1]]:arguments[2]}),E.getInstance(e,!0,n.namespace).addRegistration({traps:t,params:n})}function Z(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptor",{name:t},n,r)}function Fe(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptors",{name:t},n,r)}function k(e,t=r=>r,n={}){return A(e,"getPrototypeOf",{},t,n)}function ee(e,t=r=>r,n={}){return A(e,"isExtensible",{},t,n)}function Q(e,t=r=>r,n={}){return A(e,"ownKeys",{},t,n)}function U(e,t,n=o=>o,r={}){return A(e,"has",{name:t},n,r)}function F(e,t,n=o=>o,r={}){return e=z(e),g(n)&&([r,n]=[n,o=>o]),We(e,t,o=>{let f=[...o];return function s(a,i,u){if(!i.length)return u(a);let c=i.shift();function p(h,_=void 0){let l=T=>(h.value=T,s(a.concat(r.asOperation?h:T),i,u));if(arguments.length>1)return l(_);let b=y(e,"accessorizedProps",!1),x=b&&b.get(h.name);return x&&x.intact()?l(x.getValue()):l(Reflect.get(e,h.name,...r.receiver?[r.receiver]:[]))}let d=new P(e,{type:"get",name:c,value:void 0,related:f}),m=E.getInstance(e,!1,r.namespace);return m?m.emit(d,p):p(d)}([],o,s=>n($(t)?s:s[0]))})}function W(e,t,n,r=s=>s,o={},f=!1){e=z(e);let s=[[t,n]];g(t)&&([,,r=i=>i,o={},f=!1]=arguments,s=Object.entries(t)),g(r)&&([f,o,r]=[typeof o=="boolean"?o:!1,r,i=>i]);let a=s.map(([i])=>i);return function i(u,c,p){if(!c.length)return p(u);let[d,m]=c.shift();function h(l,b=void 0){let x=de=>(l.status=de,i(u.concat(l),c,p));if(arguments.length>1)return x(l,b);let T=y(e,"accessorizedProps",!1),q=T&&T.get(l.name);return l.type==="defineProperty"?(q&&!q.restore()&&x(!1),Object.defineProperty(e,l.name,l.value),x(!0)):q&&q.intact()?x(q.setValue(l.value)):x(Reflect.set(e,l.name,l.value))}function _(l,b){let x=new P(e,{type:f?"defineProperty":"set",name:d,value:m,isUpdate:l,oldValue:b,related:[...a],detail:o.detail}),T=E.getInstance(e,!1,o.namespace);return T?T.emit(x,h):h(x)}return U(e,d,l=>!l||o.oldValue!==!0?_(l):F(e,d,b=>_(l,b),o),o)}([],s.slice(0),i=>{let u=S.getInstance(e,!1,o.namespace);return u&&u.emit(i),r($(t)?i.map(c=>c.status):i[0].status)})}function te(e,t,n,r=f=>f,o={}){return W(e,t,n,r,o,!0)}function ze(e,t,n=o=>o,r={}){return W(e,t,n,r,!0)}function re(e,t,n=o=>o,r={}){e=z(e),g(n)&&([r,n]=[n,s=>s]);let o=j(t),f=[...o];return function s(a,i,u){if(!i.length)return u(a);let c=i.shift();function p(m,h=void 0){let _=x=>(m.status=x,s(a.concat(m),i,u));if(arguments.length>1)return _(m,h);let l=y(e,"accessorizedProps",!1),b=l&&l.get(m.name);return b&&!b.restore()&&_(!1),_(Reflect.deleteProperty(e,m.name))}function d(m){let h=new P(e,{type:"deleteProperty",name:c,oldValue:m,related:[...f],detail:r.detail}),_=E.getInstance(e,!1,r.namespace);return _?_.emit(h,p):p(h)}return r.oldValue===!1?d():F(e,c,d,r)}([],o.slice(0),s=>{let a=S.getInstance(e,!1,r.namespace);return a&&a.emit(s),n($(t)?s.map(i=>i.status):s[0].status)})}function ne(e,t,n=null,r=f=>f,o={}){return A(e,"construct",arguments.length>2?{argumentsList:t,newTarget:n}:{argumentsList:t},r,o)}function oe(e,t,n,r=f=>f,o={}){return A(e,"apply",{thisArgument:t,argumentsList:n},r,o)}function ie(e,t,n=o=>o,r={}){return A(e,"setPrototypeOf",{proto:t},n,r)}function fe(e,t=r=>r,n={}){return A(e,"preventExtensions",{},t,n)}function A(e,t,n={},r=f=>f,o={}){e=z(e),g(r)&&([o,r]=[r,i=>i]);function f(i,u){return arguments.length>1?r(u):r(Reflect[t](e,...Object.values(n)))}let s=new P(e,{type:t,...n}),a=E.getInstance(e,!1,o.namespace);return a?a.emit(s,f):f(s)}function $(e){return e===1/0||Array.isArray(e)}function z(e){if(!e||!O(e))throw new Error("Object must be of type object or array!");return e instanceof P&&(e=e.value),V(e)}function We(e,t,n){return t===1/0?Q(e,n):n(j(t))}function qe(e,t,n={}){e=se(e);let r=y(e,"accessorizedProps");function o(i){let u,c=e;for(;!u&&(c=Object.getPrototypeOf(c));)u=Object.getOwnPropertyDescriptor(c,i);return u?{proto:c,descriptor:u}:{descriptor:{value:void 0}}}function f(i){if(r.has(i))return!0;let u=o(i);u.getValue=function(){return"get"in this.descriptor?this.descriptor.get():this.descriptor.value},u.setValue=function(m){return"set"in this.descriptor?this.descriptor.set(m):this.descriptor.value=m},u.intact=function(){let m=Object.getOwnPropertyDescriptor(e,i);return m.get===d.get&&m.set===d.set&&r.get(i)===this},u.restore=function(){return this.intact()?(this.proto!==e?delete e[i]:Object.defineProperty(e,i,this.descriptor),r.delete(i),!0):!1},r.set(i,u);let{enumerable:c=!0,configurable:p=!0}=u.descriptor,d={enumerable:c,configurable:p};["value","set"].some(m=>m in u.descriptor)&&(d.set=function(m){return W(this,i,m,n)}),["value","get"].some(m=>m in u.descriptor)&&(d.get=function(){return F(this,i,n)});try{return Object.defineProperty(e,i,d),!0}catch{return r.delete(i),!1}}let a=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(f);return t===void 0||Array.isArray(t)?a:a[0]}function De(e,t,n={}){e=se(e);let r=y(e,"accessorizedProps");function o(a){return r.has(a)?r.get(a).restore():!0}let s=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(o);return t===void 0||Array.isArray(t)?s:s[0]}function Be(e,t={}){e=se(e);let n=new Proxy(e,{apply:(r,o,f)=>oe(r,o,f,t),construct:(r,o,f=null)=>ne(r,o,f,t),defineProperty:(r,o,f)=>te(r,o,f,t),deleteProperty:(r,o)=>re(r,o,t),get:(r,o,f=null)=>{let s=F(r,o,{...t,receiver:f});return t.proxyAutoBinding!==!1&&v(s)&&!Y(s)?s.bind(n):s},getOwnPropertyDescriptor:(r,o)=>Z(r,o,t),getPrototypeOf:r=>k(r,t),has:(r,o)=>U(r,o,t),isExtensible:r=>ee(r,t),ownKeys:r=>Q(r,t),preventExtensions:r=>fe(r,t),set:(r,o,f,s=null)=>W(r,o,f,{...t,receiver:s}),setPrototypeOf:(r,o)=>ie(r,o,t)});return y(n).set(n,e),n}function V(e){return y(e,!1).get(e)||e}function se(e){if(!e||!O(e))throw new Error("Target must be of type object!");return V(e)}window.wq||(window.wq={});window.wq.Observer=ue;})();
//# sourceMappingURL=main.js.map
