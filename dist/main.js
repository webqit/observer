(()=>{var _e=Object.defineProperty;var ce=(e,t)=>{for(var n in t)_e(e,n,{get:t[n],enumerable:!0})};var le={};ce(le,{apply:()=>fe,batch:()=>Me,construct:()=>ie,deep:()=>qe,defineProperties:()=>Qe,defineProperty:()=>ne,deleteProperty:()=>oe,get:()=>z,getOwnPropertyDescriptor:()=>ee,getOwnPropertyDescriptors:()=>Le,getPrototypeOf:()=>te,has:()=>U,intercept:()=>Be,isExtensible:()=>re,observe:()=>We,ownKeys:()=>$,preventExtensions:()=>se,set:()=>W,setPrototypeOf:()=>ue});function h(e){return!Array.isArray(e)&&typeof e=="object"&&e}function q(e){return typeof e}function y(e,...t){globalThis.WebQitInternalsRegistry||(globalThis.WebQitInternalsRegistry=new Map);var n=globalThis.WebQitInternalsRegistry.get(e);if(!n){if(n=new Map,t[0]===!1)return n;globalThis.WebQitInternalsRegistry.set(e,n)}for(var r,o;r=t.shift();)if((o=n)&&!(n=n.get(r))){if(n=new Map,t[0]===!1)return n;o.set(r,n)}return n}function v(e){return Array.isArray(e)}function N(e){return typeof e=="function"}function k(e){return N(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}function K(e){return e===null||e===""}function C(e){return arguments.length&&(e===void 0||typeof e>"u")}function b(e){return Array.isArray(e)||typeof e=="object"&&e||N(e)}function H(e){return K(e)||C(e)||e===!1||e===0||b(e)&&!Object.keys(e).length}function w(e){return N(e)||e&&{}.toString.call(e)==="[object function]"}function M(e){return e instanceof String||typeof e=="string"&&e!==null}function G(e){return!M(e)&&!C(e.length)}function I(e,t=!0){return v(e)?e:!t&&h(e)?[e]:e!==!1&&e!==0&&H(e)?[]:G(e)?Array.prototype.slice.call(e):h(e)?Object.values(e):[e]}var S=class{constructor(t,n){this.registry=t,Object.assign(this,{...n,target:t.target}),this.params.signal&&this.params.signal.addEventListener("abort",()=>this.remove())}remove(){return this.removed=!0,this.registry.removeRegistration(this)}};var B=class extends S{constructor(){super(...arguments),Object.defineProperty(this,"abortController",{value:new AbortController}),Object.defineProperty(this,"signal",{value:this.abortController.signal})}remove(){this.abortController.abort(),super.remove()}fire(t){let n=t,r=this.filter;if(r!==1/0&&(r=I(r))&&(n=t.filter(o=>r.includes(o.key))),n.length)return this.filter===1/0||Array.isArray(this.filter)?this.handler(n,this):this.handler(n[0],this)}};var F=class{constructor(t){this.target=t,this.entries=[]}addRegistration(t){return this.entries.push(t),t}removeRegistration(t){this.entries=this.entries.filter(n=>n!==t)}static _getInstance(t,n,r=!0,o=this.__namespace){if(!b(n))throw new Error(`Subject must be of type object; "${q(n)}" given!`);let f=this;return o&&globalThis.WebQitObserverNamespaceRegistry.has(t+"-"+o)&&(f=globalThis.WebQitObserverNamespaceRegistry.get(t+"-"+o),t+="-"+o),!y(n,"observerApi").has(t)&&r&&y(n,"observerApi").set(t,new f(n)),y(n,"observerApi").get(t)}static _namespace(t,n,r=null){if(t+="-"+n,arguments.length===2)return globalThis.WebQitObserverNamespaceRegistry.get(t);if(!(r.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${n} must be a subclass of ${this.name}.`);globalThis.WebQitObserverNamespaceRegistry.set(t,r),r.__namespace=n}};globalThis.WebQitObserverNamespaceRegistry||(globalThis.WebQitObserverNamespaceRegistry=new Map);var R=class extends F{static getInstance(t,n=!0,r=null){return super._getInstance("listeners",...arguments)}static namespace(t,n=null){return super._namespace("listeners",...arguments)}constructor(t){super(t),this.batches=[]}addRegistration(t,n,r){return super.addRegistration(new B(this,{filter:t,handler:n,params:r}))}emit(t){if(this.batches.length){this.batches[0].events.push(...t);return}this.entries.forEach(n=>n.fire(t))}batch(t){this.batches.unshift({entries:[...this.entries],events:[]});let n=t(),r=this.batches.shift();return r.events.length&&r.entries.forEach(o=>o.fire(r.events)),n}};var L=class extends S{exec(t,n,r){return this.running||!this.traps[t.type]?n(...Array.prototype.slice.call(arguments,2)):(this.running=!0,this.traps[t.type](t,r,(...o)=>(this.running=!1,n(...o))))}};var T=class extends F{static getInstance(t,n=!0,r=null){return super._getInstance("traps",...arguments)}static namespace(t,n=null){return super._namespace("traps",...arguments)}addRegistration(t){return super.addRegistration(new L(this,t))}emit(t,n=null){let r=this;return function o(f,...u){let s=r.entries[f];return s?s.exec(t,(...i)=>o(f+1,...i),...u):n?n(t,...u):u[0]}(0)}};var P=class{constructor(t,n){if(this.target=t,!n.type)throw new Error("Descriptor type must be given in definition!");Object.assign(this,n)}};var Z={};ce(Z,{accessorize:()=>Fe,proxy:()=>De,unaccessorize:()=>ze,unproxy:()=>Q});function Fe(e,t,n={}){e=Y(e);let r=y(e,"accessorizedProps");function o(i){let l,c=e;for(;!l&&(c=Object.getPrototypeOf(c));)l=Object.getOwnPropertyDescriptor(c,i);return l?{proto:c,descriptor:l}:{descriptor:{value:void 0}}}function f(i){if(r.has(i))return!0;let l=o(i);l.getValue=function(){return"get"in this.descriptor?this.descriptor.get():this.descriptor.value},l.setValue=function(m){return"set"in this.descriptor?this.descriptor.set(m):this.descriptor.value=m},l.intact=function(){let m=Object.getOwnPropertyDescriptor(e,i);return m.get===d.get&&m.set===d.set&&r.get(i)===this},l.restore=function(){return this.intact()?(this.proto!==e?delete e[i]:Object.defineProperty(e,i,this.descriptor),r.delete(i),!0):!1},r.set(i,l);let{enumerable:c=!0,configurable:g=!0}=l.descriptor,d={enumerable:c,configurable:g};["value","set"].some(m=>m in l.descriptor)&&(d.set=function(m){return W(this,i,m,n)}),["value","get"].some(m=>m in l.descriptor)&&(d.get=function(){return z(this,i,n)});try{return Object.defineProperty(e,i,d),!0}catch{return r.delete(i),!1}}let s=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(f);return t===void 0||Array.isArray(t)?s:s[0]}function ze(e,t,n={}){e=Y(e);let r=y(e,"accessorizedProps");function o(s){return r.has(s)?r.get(s).restore():!0}let u=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(o);return t===void 0||Array.isArray(t)?u:u[0]}function De(e,t={}){e=Y(e);let n=new Proxy(e,{apply:(r,o,f)=>fe(r,o,f,t),construct:(r,o,f=null)=>ie(r,o,f,t),defineProperty:(r,o,f)=>ne(r,o,f,t),deleteProperty:(r,o)=>oe(r,o,t),get:(r,o,f=null)=>{let u=z(r,o,{...t,receiver:f});return t.proxyAutoBinding!==!1&&w(u)&&!k(u)?u.bind(n):u},getOwnPropertyDescriptor:(r,o)=>ee(r,o,t),getPrototypeOf:r=>te(r,t),has:(r,o)=>U(r,o,t),isExtensible:r=>re(r,t),ownKeys:r=>$(r,t),preventExtensions:r=>se(r,t),set:(r,o,f,u=null)=>W(r,o,f,{...t,receiver:u}),setPrototypeOf:(r,o)=>ue(r,o,t)});return y(n).set(n,e),n}function Q(e){return y(e,!1).get(e)||e}function Y(e){if(!e||!b(e))throw new Error("Target must be of type object!");return Q(e)}function qe(e,t,n,r=f=>f,o={}){return function f(u,s,i){let l=s[i.level];return i.level<s.length-1?i={...i,preflight:!0}:i={...i,preflight:o.preflight},n(u,l,(c,...g)=>{let d=(a={})=>({...i,...a,level:i.level+1}),m=a=>{a instanceof P&&(a.path=[a.key],u instanceof P&&(a.path=u.path.concat(a.key),a.context=u))};if(V(l)&&Array.isArray(c))return c.forEach(m),i.level===s.length-1||!c.length&&i.midwayResults?r(c,...g):c.map(a=>f(a,s,d(...g)));m(c);let x=b(D(c,!1));return i.level===s.length-1||!x&&i.midwayResults?r(c,...g):x&&f(c,s,d(...g))},i)}(e,t.slice(0),{...o,level:0})}function We(e,t,n,r={}){if(e=D(e),w(arguments[1])&&([,n,r={}]=arguments,t=1/0),!w(n))throw new Error(`Handler must be a function; "${q(n)}" given!`);let o=ye(e,t,n,r);return r.preflight?(r={...r,descripted:!0},delete r.live,z(e,t,o,r)):o()}function Be(e,t,n={}){return e=D(e),h(t)||([,,,n={}]=arguments,t={[arguments[1]]:arguments[2]}),T.getInstance(e,!0,n.namespace).addRegistration({traps:t,params:n})}function ee(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptor",{key:t},n,r)}function Le(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptors",{key:t},n,r)}function te(e,t=r=>r,n={}){return A(e,"getPrototypeOf",{},t,n)}function re(e,t=r=>r,n={}){return A(e,"isExtensible",{},t,n)}function $(e,t=r=>r,n={}){return A(e,"ownKeys",{},t,n)}function U(e,t,n=o=>o,r={}){return A(e,"has",{key:t},n,r)}function z(e,t,n=o=>o,r={}){let o;return e=D(e),h(n)?[r,n]=[n,f=>f]:r.live&&(o=!0),$e(e,t,f=>{let u=[...f];return function s(i,l,c){if(!l.length)return c(i);let g=l.shift();function d(a,p=void 0){let O=j=>(a.value=j,s(i.concat(r.live||r.descripted?a:j),l,c));if(arguments.length>1)return O(p);let _=y(e,"accessorizedProps",!1),E=_&&_.get(a.key);return E&&E.intact()?O(E.getValue()):O(Reflect.get(e,a.key,...r.receiver?[r.receiver]:[]))}let m=new P(e,{type:"get",key:g,value:void 0,related:u}),x=T.getInstance(e,!1,r.namespace);return x?x.emit(m,d):d(m)}([],f.slice(0),s=>{let i=V(t)?s:s[0];return o?ye(e,t,n,r)(i):n(i)})})}function Me(e,t,n={}){return R.getInstance(e,!0,n.namespace).batch(t)}function W(e,t,n,r=u=>u,o={},f=!1){e=D(e);let u=[[t,n]];h(t)&&([,,r=i=>i,o={},f=!1]=arguments,u=Object.entries(t)),h(r)&&([f,o,r]=[typeof o=="boolean"?o:!1,r,i=>i]);let s=u.map(([i])=>i);return function i(l,c,g){if(!c.length)return g(l);let[d,m]=c.shift();function x(p,O=void 0){let _=xe=>(p.status=xe,i(l.concat(p),c,g));if(arguments.length>1)return _(p,O);let E=y(e,"accessorizedProps",!1),j=E&&E.get(p.key);return p.type==="defineProperty"?(j&&!j.restore()&&_(!1),Object.defineProperty(e,p.key,p.value),_(!0)):j&&j.intact()?_(j.setValue(p.value)):_(Reflect.set(e,p.key,p.value))}function a(p,O){let _=new P(e,{type:f?"defineProperty":"set",key:d,value:m,isUpdate:p,oldValue:O,related:[...s],detail:o.detail}),E=T.getInstance(e,!1,o.namespace);return E?E.emit(_,x):x(_)}return U(e,d,p=>!p||o.oldValue!==!0?a(p):z(e,d,O=>a(p,O),o),o)}([],u.slice(0),i=>{let l=R.getInstance(e,!1,o.namespace);return l&&l.emit(i),r(V(t)?i.map(c=>c.status):i[0].status)})}function ne(e,t,n,r=f=>f,o={}){return W(e,t,n,r,o,!0)}function Qe(e,t,n=o=>o,r={}){return W(e,t,n,r,!0)}function oe(e,t,n=o=>o,r={}){e=D(e),h(n)&&([r,n]=[n,u=>u]);let o=I(t),f=[...o];return function u(s,i,l){if(!i.length)return l(s);let c=i.shift();function g(m,x=void 0){let a=_=>(m.status=_,u(s.concat(m),i,l));if(arguments.length>1)return a(m,x);let p=y(e,"accessorizedProps",!1),O=p&&p.get(m.key);return O&&!O.restore()&&a(!1),a(Reflect.deleteProperty(e,m.key))}function d(m){let x=new P(e,{type:"deleteProperty",key:c,oldValue:m,related:[...f],detail:r.detail}),a=T.getInstance(e,!1,r.namespace);return a?a.emit(x,g):g(x)}return r.oldValue===!1?d():z(e,c,d,r)}([],o.slice(0),u=>{let s=R.getInstance(e,!1,r.namespace);return s&&s.emit(u),n(V(t)?u.map(i=>i.status):u[0].status)})}function ie(e,t,n=null,r=f=>f,o={}){return A(e,"construct",arguments.length>2?{argumentsList:t,newTarget:n}:{argumentsList:t},r,o)}function fe(e,t,n,r=f=>f,o={}){return A(e,"apply",{thisArgument:t,argumentsList:n},r,o)}function ue(e,t,n=o=>o,r={}){return A(e,"setPrototypeOf",{proto:t},n,r)}function se(e,t=r=>r,n={}){return A(e,"preventExtensions",{},t,n)}function ye(e,t,n,r={}){let o;r.signal||(o=new AbortController,r={...r,signal:o.signal});let f=R.getInstance(e,!0,r.namespace);return function u(s,i=null){i?.remove();let c={signal:f.addRegistration(t,u,r).signal};return arguments.length&&n(s,c),o}}function A(e,t,n={},r=f=>f,o={}){e=D(e),h(r)&&([o,r]=[r,i=>i]);function f(i,l){return arguments.length>1?r(l):r(Reflect[t](e,...Object.values(n)))}let u=new P(e,{type:t,...n}),s=T.getInstance(e,!1,o.namespace);return s?s.emit(u,f):f(u)}function V(e){return e===1/0||Array.isArray(e)}function D(e,t=!0){if((!e||!b(e))&&t)throw new Error(`Object must be of type object or array! "${q(e)}" given.`);return e instanceof P&&(e=e.value),e&&Q(e)}function $e(e,t,n){return t===1/0?$(e,n):n(I(t))}var Ue={...le,...Z},ge=Ue;self.webqit||(self.webqit={});self.webqit.Observer=ge;})();
//# sourceMappingURL=main.js.map
