(()=>{var Ae=Object.defineProperty;var ye=(e,t)=>{for(var n in t)Ae(e,n,{get:t[n],enumerable:!0})};var he={};ye(he,{apply:()=>ae,batch:()=>ue,construct:()=>me,deep:()=>We,defineProperties:()=>Ge,defineProperty:()=>ce,deleteProperty:()=>le,get:()=>C,getOwnPropertyDescriptor:()=>ie,getOwnPropertyDescriptors:()=>He,getPrototypeOf:()=>fe,has:()=>J,intercept:()=>Ke,isExtensible:()=>se,observe:()=>ke,ownKeys:()=>G,preventExtensions:()=>de,set:()=>B,setPrototypeOf:()=>pe});function _(e){return!Array.isArray(e)&&typeof e=="object"&&e}function D(e){return typeof e}function w(e){return Array.isArray(e)}function X(e,t,n=null){return w(t)?e.filter(r=>n?t.filter(o=>n(r,o)).length:t.indexOf(r)!==-1):[]}function W(e,...t){if(globalThis.webqit||(globalThis.webqit={}),globalThis.webqit.refs||Object.defineProperty(globalThis.webqit,"refs",{value:new L}),!arguments.length)return globalThis.webqit.refs;let n=globalThis.webqit.refs.get(e);n||(n=new L,globalThis.webqit.refs.set(e,n));let r,o;for(;r=t.shift();)(o=n)&&!(n=n.get(r))&&(n=new L,o.set(r,n));return n}var L=class extends Map{constructor(...t){super(...t),this.observers=new Set}set(t,n){let r=super.set(t,n);return this.fire("set",t,n,t),r}delete(t){let n=super.delete(t);return this.fire("delete",t),n}has(t){return this.fire("has",t),super.has(t)}get(t){return this.fire("get",t),super.get(t)}keyNames(){return Array.from(super.keys())}observe(t,n,r){let o={type:t,key:n,callback:r};return this.observers.add(o),()=>this.observers.delete(o)}unobserve(t,n,r){if(Array.isArray(t)||Array.isArray(n))throw new Error('The "type" and "key" arguments can only be strings.');for(let o of this.observers)V([t,"*"],o.type)&&V([n,"*"],o.key)&&o.callback===r&&this.observers.delete(o)}fire(t,n,...r){for(let o of this.observers)V([t,"*"],o.type)&&V([n,"*"],o.key)&&o.callback(...r)}},V=(e,t)=>Array.isArray(t)?X(e,t).length:e.includes(t);function F(e){return typeof e=="function"}function Y(e){return F(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}function Z(e){return e===null||e===""}function R(e){return arguments.length&&(e===void 0||typeof e>"u")}function b(e){return Array.isArray(e)||typeof e=="object"&&e||F(e)}function $(e){return Z(e)||R(e)||e===!1||e===0||b(e)&&!Object.keys(e).length}function P(e){return F(e)||e&&{}.toString.call(e)==="[object function]"}function k(e){return e instanceof String||typeof e=="string"&&e!==null}function ee(e){return!k(e)&&!R(e.length)}function I(e,t=!0){return w(e)?e:!t&&_(e)?[e]:e!==!1&&e!==0&&$(e)?[]:ee(e)?Array.prototype.slice.call(e):_(e)?Object.values(e):[e]}var N=class{constructor(t,n){this.registry=t,Object.assign(this,{...n,target:t.target}),this.params.signal&&this.params.signal.addEventListener("abort",()=>this.remove())}remove(){return this.removed=!0,this.registry.removeRegistration(this)}};var U=class extends N{constructor(){super(...arguments),Object.defineProperty(this,"abortController",{value:new AbortController}),Object.defineProperty(this,"signal",{value:this.abortController.signal})}remove(){this.abortController.abort(),super.remove()}fire(t){if(this.handler.firing)return;let n=t,r=this.filter;if(r!==1/0&&(r=I(r))&&(n=t.filter(o=>r.includes(o.key))),this.params.diff&&(n=n.filter(o=>o.type!=="set"||o.value!==o.oldValue)),n.length){this.handler.firing=!0;let o=this.filter===1/0||Array.isArray(this.filter)?this.handler(n,this):this.handler(n[0],this);return this.handler.firing=!1,o}}};var y=(...e)=>W("observer-api",...e),K=(e,t)=>e instanceof Promise?e.then(t):t(e);var z=class{constructor(t){this.target=t,this.entries=[]}addRegistration(t){return this.entries.push(t),t}removeRegistration(t){this.entries=this.entries.filter(n=>n!==t)}static _getInstance(t,n,r=!0,o=this.__namespace){if(!b(n))throw new Error(`Subject must be of type object; "${D(n)}" given!`);let f=this;return o&&y("namespaces").has(t+"-"+o)&&(f=y("namespaces").get(t+"-"+o),t+="-"+o),!y(n,"registry").has(t)&&r&&y(n,"registry").set(t,new f(n)),y(n,"registry").get(t)}static _namespace(t,n,r=null){if(t+="-"+n,arguments.length===2)return y("namespaces").get(t);if(!(r.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${n} must be a subclass of ${this.name}.`);y("namespaces").set(t,r),r.__namespace=n}};var q=class extends z{static getInstance(t,n=!0,r=null){return super._getInstance("listeners",...arguments)}static namespace(t,n=null){return super._namespace("listeners",...arguments)}constructor(t){super(t),this.batches=[]}addRegistration(t,n,r){return super.addRegistration(new U(this,{filter:t,handler:n,params:r}))}emit(t){if(this.batches.length){this.batches[0].events.push(...t);return}this.entries.forEach(n=>n.fire(t))}batch(t){this.batches.unshift({entries:[...this.entries],events:[]});let n=t();return K(n,r=>{let o=this.batches.shift();return o.events.length&&o.entries.forEach(f=>f.fire(o.events)),r})}};var M=class extends N{exec(t,n,r){return this.running||!this.traps[t.type]?n(...Array.prototype.slice.call(arguments,2)):(this.running=!0,this.traps[t.type](t,r,(...o)=>(this.running=!1,n(...o))))}};var T=class extends z{static getInstance(t,n=!0,r=null){return super._getInstance("traps",...arguments)}static namespace(t,n=null){return super._namespace("traps",...arguments)}addRegistration(t){return super.addRegistration(new M(this,t))}emit(t,n=null){let r=this;return function o(f,...s){let c=r.entries[f];return c?c.exec(t,(...i)=>o(f+1,...i),...s):n?n(t,...s):s[0]}(0)}};var v=class{constructor(t,n){if(this.target=t,!n.type)throw new Error("Descriptor type must be given in definition!");Object.assign(this,n)}};var oe={};ye(oe,{accessorize:()=>Ue,proxy:()=>Ve,unaccessorize:()=>Me,unproxy:()=>H});function Ue(e,t,n={}){e=ne(e);let r=y(e,"accessorizedProps");function o(i){let u,m=e;do u=Object.getOwnPropertyDescriptor(m,i);while(!u&&(m=Object.getPrototypeOf(m)));return u?{proto:m,descriptor:u}:{descriptor:{value:void 0,configurable:!0,enumerable:!0,writable:!0}}}function f(i){if(r.has(i+""))return!0;let u=o(i);u.getValue=function(){return this.descriptor.get?this.descriptor.get():this.descriptor.value},u.setValue=function(d){return this.dirty=!0,this.descriptor.set?this.descriptor.set(d)!==!1:(this.descriptor.value=d,!0)},u.intact=function(){let d=Object.getOwnPropertyDescriptor(e,i);return d?.get===p.get&&d?.set===p.set&&r.get(i+"")===this},u.restore=function(){return this.intact()?(this.proto&&this.proto!==e||!this.proto&&!this.dirty?delete e[i]:Object.defineProperty(e,i,this.descriptor),r.delete(i+""),!0):!1},r.set(i+"",u);let{enumerable:m=!0}=u.descriptor,p={enumerable:m,configurable:!0};("value"in u.descriptor||u.descriptor.set)&&(p.set=function(d){return B(this,i,d,n)}),("value"in u.descriptor||u.descriptor.get)&&(p.get=function(){return C(this,i,n)});try{return Object.defineProperty(e,i,p),!0}catch{return r.delete(i+""),!1}}let c=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(f);return t===void 0||Array.isArray(t)?c:c[0]}function Me(e,t,n={}){e=ne(e);let r=y(e,"accessorizedProps");function o(c){return r.has(c+"")?r.get(c+"").restore():!0}let s=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(o);return t===void 0||Array.isArray(t)?s:s[0]}function Ve(e,t={}){e=ne(e);let n=new Proxy(e,{apply:(r,o,f)=>ae(r,o,f,t),construct:(r,o,f=null)=>me(r,o,f,t),defineProperty:(r,o,f)=>ce(r,o,f,t),deleteProperty:(r,o)=>le(r,o,t),get:(r,o,f=null)=>{let s=C(r,o,{...t,receiver:f});return t.proxyAutoBinding!==!1&&P(s)&&!Y(s)?function(...c){let i=this||n;return ue(i,()=>s.call(i,...c))}:s},getOwnPropertyDescriptor:(r,o)=>ie(r,o,t),getPrototypeOf:r=>fe(r,t),has:(r,o)=>J(r,o,t),isExtensible:r=>se(r,t),ownKeys:r=>G(r,t),preventExtensions:r=>de(r,t),set:(r,o,f,s=null)=>B(r,o,f,{...t,receiver:s}),setPrototypeOf:(r,o)=>pe(r,o,t)});return y(n).set(n,e),n}function H(e){return y(e).get(e)||e}function ne(e){if(!e||!b(e))throw new Error("Target must be of type object!");return H(e)}function We(e,t,n,r=f=>f,o={}){return function f(s,c,i){let u=c[i.level],m=i.level===c.length-1;return s instanceof v&&s.type!=="get"?i={...i,probe:"always"}:i.probe!=="always"&&(i={...i,probe:!m}),n(s,u,(p,...d)=>{let h=l=>{l instanceof v&&(l.path=[l.key],s instanceof v&&(l.path=s.path.concat(l.key),Object.defineProperty(l,"context",{get:()=>s})))},O=l=>{let a=S(l,!1);return K(a,x=>{l instanceof v?l.value=x:l=x;let g=d[0]||{};return f(l,c,{...i,...g,level:i.level+1})})};return Q(u)&&Array.isArray(p)?(p.forEach(h),m?r(p,...d):p.map(O)):(h(p),m?r(p,...d):O(p))},i)}(e,t.slice(0),{...o,level:0})}function ke(e,t,n,r={}){if(e=S(e,!r.level),P(arguments[1])&&([,n,r={}]=arguments,t=1/0),!P(n))throw new Error(`Handler must be a function; "${D(n)}" given!`);if(r={...r,descripted:!0},delete r.live,!b(e))return r.probe&&C(e,t,n,r);let o=ve(e,t,n,r);return r.probe?C(e,t,o,r):o()}function Ke(e,t,n={}){return e=S(e),_(t)||([,,,n={}]=arguments,t={[arguments[1]]:arguments[2]}),T.getInstance(e,!0,n.namespace).addRegistration({traps:t,params:n})}function ie(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptor",{key:t},n,r)}function He(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptors",{key:t},n,r)}function fe(e,t=r=>r,n={}){return A(e,"getPrototypeOf",{},t,n)}function se(e,t=r=>r,n={}){return A(e,"isExtensible",{},t,n)}function G(e,t=r=>r,n={}){return A(e,"ownKeys",{},t,n)}function J(e,t,n=o=>o,r={}){return A(e,"has",{key:t},n,r)}function C(e,t,n=o=>o,r={}){let o;return e=S(e,!r.level),_(n)?[r,n]=[n,f=>f]:r.live&&(o=!0),Je(e,t,f=>{let s=[...f];return function c(i,u,m){if(!u.length)return m(i);let p=u.shift();function d(l,a=void 0){let x=j=>(l.value=j,c(i.concat(r.live||r.descripted?l:j),u,m));if(arguments.length>1)return x(a);let g=y(e,"accessorizedProps",!1),E=g&&g.get(l.key+"");return E&&E.intact()?x(E.getValue()):x(Reflect.get(e,l.key,...r.receiver?[r.receiver]:[]))}let h=new v(e,{type:"get",key:p,value:void 0,related:s});if(!b(e))return c(i.concat(r.live||r.descripted?h:void 0),u,m);let O=T.getInstance(e,!1,r.namespace);return O?O.emit(h,d):d(h)}([],f.slice(0),c=>{let i=Q(t)?c:c[0];return o&&b(e)?ve(e,t,n,r)(i):n(i)})})}function ue(e,t,n={}){return e=S(e),q.getInstance(e,!0,n.namespace).batch(t)}function B(e,t,n,r=s=>s,o={},f=!1){e=S(e);let s=[[t,n]];_(t)&&([,,r=i=>i,o={},f=!1]=arguments,s=Object.entries(t)),_(r)&&([f,o,r]=[typeof o=="boolean"?o:!1,r,i=>i]);let c=s.map(([i])=>i);return function i(u,m,p){if(!m.length)return p(u);let[d,h]=m.shift();function O(a,x=void 0){let g=Pe=>(a.status=Pe,i(u.concat(a),m,p));if(arguments.length>1)return g(a,x);let E=y(e,"accessorizedProps",!1),j=E&&E.get(a.key+"");return a.type==="defineProperty"?(j&&!j.restore()&&g(!1),Object.defineProperty(e,a.key,a.value),g(!0)):j&&j.intact()?g(j.setValue(a.value)):g(Reflect.set(e,a.key,a.value))}function l(a,x){if(o.diff&&h===x)return i(u,m,p);let g=new v(e,{type:f?"defineProperty":"set",key:d,value:h,isUpdate:a,oldValue:x,related:[...c],detail:o.detail}),E=T.getInstance(e,!1,o.namespace);return E?E.emit(g,O):O(g)}return J(e,d,a=>a?C(e,d,x=>l(a,x),o):l(a),o)}([],s.slice(0),i=>{let u=q.getInstance(e,!1,o.namespace);return u&&u.emit(i),r(Q(t)?i.map(m=>m.status):i[0]?.status)})}function ce(e,t,n,r=f=>f,o={}){return B(e,t,n,r,o,!0)}function Ge(e,t,n=o=>o,r={}){return B(e,t,n,r,!0)}function le(e,t,n=o=>o,r={}){e=S(e),_(n)&&([r,n]=[n,s=>s]);let o=I(t),f=[...o];return function s(c,i,u){if(!i.length)return u(c);let m=i.shift();function p(h,O=void 0){let l=g=>(h.status=g,s(c.concat(h),i,u));if(arguments.length>1)return l(h,O);let a=y(e,"accessorizedProps",!1),x=a&&a.get(h.key+"");return x&&!x.restore()&&l(!1),l(Reflect.deleteProperty(e,h.key))}function d(h){let O=new v(e,{type:"deleteProperty",key:m,oldValue:h,related:[...f],detail:r.detail}),l=T.getInstance(e,!1,r.namespace);return l?l.emit(O,p):p(O)}return C(e,m,d,r)}([],o.slice(0),s=>{let c=q.getInstance(e,!1,r.namespace);return c&&c.emit(s),n(Q(t)?s.map(i=>i.status):s[0].status)})}function me(e,t,n=null,r=f=>f,o={}){return A(e,"construct",arguments.length>2?{argumentsList:t,newTarget:n}:{argumentsList:t},r,o)}function ae(e,t,n,r=f=>f,o={}){return A(e,"apply",{thisArgument:t,argumentsList:n},r,o)}function pe(e,t,n=o=>o,r={}){return A(e,"setPrototypeOf",{proto:t},n,r)}function de(e,t=r=>r,n={}){return A(e,"preventExtensions",{},t,n)}function ve(e,t,n,r={}){let o;r.signal||(o=new AbortController,r={...r,signal:o.signal});let f=q.getInstance(e,!0,r.namespace);return function s(c,i=null){i?.remove();let m={signal:f.addRegistration(t,s,r).signal};return arguments.length&&n(c,m),o}}function A(e,t,n={},r=f=>f,o={}){e=S(e),_(r)&&([o,r]=[r,i=>i]);function f(i,u){return arguments.length>1?r(u):r(Reflect[t](e,...Object.values(n)))}let s=new v(e,{type:t,...n}),c=T.getInstance(e,!1,o.namespace);return c?c.emit(s,f):f(s)}function Q(e){return e===1/0||Array.isArray(e)}function S(e,t=!0){if((!e||!b(e))&&t)throw new Error(`Object must be of type object or array! "${D(e)}" given.`);return e instanceof v&&(e=e.value),e&&H(e)}function Je(e,t,n){return t===1/0?G(e,n):n(I(t))}var Qe={...he,...oe},we=Qe;self.webqit||(self.webqit={});self.webqit.Observer=we;})();
//# sourceMappingURL=main.js.map
