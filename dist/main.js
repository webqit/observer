(()=>{var Ie=Object.defineProperty;var be=(t,e)=>{for(var r in e)Ie(t,r,{get:e[r],enumerable:!0})};var xe={};be(xe,{apply:()=>pe,batch:()=>_e,construct:()=>me,defineProperties:()=>Xe,defineProperty:()=>K,deleteProperties:()=>Ye,deleteProperty:()=>H,get:()=>M,getOwnPropertyDescriptor:()=>Z,getOwnPropertyDescriptors:()=>Je,getPrototypeOf:()=>le,has:()=>ee,intercept:()=>Ge,isExtensible:()=>ae,map:()=>Qe,observe:()=>ge,ownKeys:()=>W,path:()=>He,preventExtensions:()=>de,reduce:()=>ye,set:()=>F,setPrototypeOf:()=>he});function b(t){return!Array.isArray(t)&&typeof t=="object"&&t}function z(t){return typeof t}function P(t){return Array.isArray(t)}function re(t,e,r=null){return P(e)?t.filter(n=>r?e.filter(o=>r(n,o)).length:e.indexOf(n)!==-1):[]}function Q(t,...e){if(globalThis.webqit||(globalThis.webqit={}),globalThis.webqit.refs||Object.defineProperty(globalThis.webqit,"refs",{value:new B}),!arguments.length)return globalThis.webqit.refs;let r=globalThis.webqit.refs.get(t);r||(r=new B,globalThis.webqit.refs.set(t,r));let n,o;for(;n=e.shift();)(o=r)&&!(r=r.get(n))&&(r=new B,o.set(n,r));return r}var B=class extends Map{constructor(...e){super(...e),this.observers=new Set}set(e,r){let n=super.set(e,r);return this.fire("set",e,r,e),n}delete(e){let r=super.delete(e);return this.fire("delete",e),r}has(e){return this.fire("has",e),super.has(e)}get(e){return this.fire("get",e),super.get(e)}keyNames(){return Array.from(super.keys())}observe(e,r,n){let o={type:e,key:r,callback:n};return this.observers.add(o),()=>this.observers.delete(o)}unobserve(e,r,n){if(Array.isArray(e)||Array.isArray(r))throw new Error('The "type" and "key" arguments can only be strings.');for(let o of this.observers)J([e,"*"],o.type)&&J([r,"*"],o.key)&&o.callback===n&&this.observers.delete(o)}fire(e,r,...n){for(let o of this.observers)J([e,"*"],o.type)&&J([r,"*"],o.key)&&o.callback(...n)}},J=(t,e)=>Array.isArray(e)?re(t,e).length:t.includes(e);function L(t){return typeof t=="function"}function ne(t){return t===null||t===""}function S(t){return arguments.length&&(t===void 0||typeof t>"u")}function w(t){return Array.isArray(t)||typeof t=="object"&&t||L(t)}function oe(t){return ne(t)||S(t)||t===!1||t===0||w(t)&&!Object.keys(t).length}function D(t){return L(t)||t&&{}.toString.call(t)==="[object function]"}function X(t){return t instanceof String||typeof t=="string"&&t!==null}function ie(t){return!X(t)&&!S(t.length)}function R(t,e=!0){return P(t)?t:!e&&b(t)?[t]:t!==!1&&t!==0&&oe(t)?[]:ie(t)?Array.prototype.slice.call(t):b(t)?Object.values(t):[t]}var g=(...t)=>Q("observer-api",...t),V=(t,e)=>t instanceof Promise?t.then(e):e(t),Y={};var q=class{constructor(e,r){this.registry=e,Object.assign(this,{...r,target:e.target}),this.params.signal&&this.params.signal.addEventListener("abort",()=>this.remove())}remove(){return this.removed=!0,this.registry.removeRegistration(this)}};var $=class extends q{constructor(){super(...arguments),this.emit.currentRegistration=this,Object.defineProperty(this,"abortController",{value:new AbortController}),Object.defineProperty(this,"signal",{value:this.abortController.signal}),Y.setMaxListeners?.(0,this.signal)}remove(){this.abortController.abort(),super.remove()}fire(e){if(this.emit.recursionTarget&&!["inject","force-async","force-sync"].includes(this.params.recursions))return;let r=e,n=this.filter;if(n!==1/0&&(n=R(n,!1))&&(r=e.filter(i=>n.includes(i.key))),this.params.diff&&(r=r.filter(i=>i.type!=="set"||i.value!==i.oldValue)),!r.length)return;if(["inject","defer"].includes(this.params.recursions)){if(this.emit.recursionTarget){this.emit.recursionTarget.push(...r);return}this.emit.recursionTarget=this.params.recursions==="inject"?r:[]}let o=this.filter===1/0||Array.isArray(this.filter)?this.emit(r,this):this.emit(r[0],this);return V(o,i=>{let l=this.emit.recursionTarget;return delete this.emit.recursionTarget,this.params.recursions==="defer"&&l?.length?this.emit.currentRegistration.fire(l):i})}};var C=class{constructor(e){this.target=e,this.entries=[]}addRegistration(e){return this.entries.push(e),e}removeRegistration(e){this.entries=this.entries.filter(r=>r!==e)}static _getInstance(e,r,n=!0,o=this.__namespace){if(!w(r))throw new Error(`Subject must be of type object; "${z(r)}" given!`);let i=this;return o&&g("namespaces").has(e+"-"+o)&&(i=g("namespaces").get(e+"-"+o),e+="-"+o),!g(r,"registry").has(e)&&n&&g(r,"registry").set(e,new i(r)),g(r,"registry").get(e)}static _namespace(e,r,n=null){if(e+="-"+r,arguments.length===2)return g("namespaces").get(e);if(!(n.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${r} must be a subclass of ${this.name}.`);g("namespaces").set(e,n),n.__namespace=r}};var O=class{constructor(e,r){if(this.target=e,!r.operation)throw new Error("Descriptor operation must be given in definition!");Object.assign(this,r)}};var I=class extends C{static getInstance(e,r=!0,n=null){return super._getInstance("listeners",...arguments)}static namespace(e,r=null){return super._namespace("listeners",...arguments)}constructor(e){super(e),this.batches=[]}addRegistration(e,r,n){return super.addRegistration(new $(this,{filter:e,emit:r,params:n}))}emit(e,{eventsArePropertyDescriptors:r=!1,eventIsArrayMethodDescriptor:n=!1}={}){if(this.batches.length){this.batches[0].snapshots.push({events:[...e],arrayMethodName:this.batches[0].params.arrayMethodName,eventsArePropertyDescriptors:r,eventIsArrayMethodDescriptor:n});return}this.$emit(this.entries,[{events:e,eventsArePropertyDescriptors:r,eventIsArrayMethodDescriptor:n}])}$emit(e,r){let n=0,o=0,i=0;for(let u of e)n+=1,u.params.withPropertyDescriptors&&(o+=1),u.params.withArrayMethodDescriptors&&(i+=1);let l=[],c=[],f=[],s=[];for(let u of r){let a=u.arrayMethodName,p=u.eventsArePropertyDescriptors,h=u.eventIsArrayMethodDescriptor;for(let _ of u.events)if(a&&(_.arrayMethodName=a),o&&((!a||h)&&i&&l.push(_),h||i!==n&&c.push(_)),o!==n){let m=_;if(p){let{target:x,type:d,...y}=_;m=new O(x,{type:"set",...y}),Object.defineProperty(m,"value","get"in y.value?{get:()=>y.value.get()}:{value:y.value.value}),y.oldValue&&Object.defineProperty(m,"oldValue","get"in y.oldValue?{get:()=>y.oldValue.get()}:{value:y.oldValue.value})}(!a||h)&&i&&f.push(m),h||i!==n&&s.push(m)}}for(let u of e)u.params.withPropertyDescriptors?u.params.withArrayMethodDescriptors?u.fire(l):u.fire(c):u.params.withArrayMethodDescriptors?u.fire(f):u.fire(s)}batch(e,r={}){this.batches.unshift({entries:[...this.entries],snapshots:[],params:r});let n=e();return V(n,o=>{let i=this.batches.shift();return i.snapshots.length&&this.$emit(i.entries,i.snapshots),o})}};var U=class extends q{exec(e,r,n){return this.running||!this.traps[e.operation]?r(...Array.prototype.slice.call(arguments,2)):(this.running=!0,this.traps[e.operation](e,n,(...o)=>(this.running=!1,r(...o))))}};var N=class extends C{static getInstance(e,r=!0,n=null){return super._getInstance("traps",...arguments)}static namespace(e,r=null){return super._namespace("traps",...arguments)}addRegistration(e){return super.addRegistration(new U(this,e))}emit(e,r=null){let n=this;return function o(i,...l){let c=n.entries[i];return c?c.exec(e,(...f)=>o(i+1,...f),...l):r?r(e,...l):l[0]}(0)}};var ce={};be(ce,{accessorize:()=>We,proxy:()=>Te,unaccessorize:()=>Ke,unproxy:()=>k});function We(t,e,r={}){t=ue(t);let n=g(t,"accessorizedProps");function o(f){let s,u=t;do s=Object.getOwnPropertyDescriptor(u,f);while(!s&&(u=Object.getPrototypeOf(u)));return s?{proto:u,descriptor:s}:{descriptor:{value:void 0,configurable:!0,enumerable:!0,writable:!0}}}function i(f){if(n.has(f+""))return!0;let s=o(f);s.getValue=function(p=!1){return p?this.descriptor:this.descriptor.get?this.descriptor.get():this.descriptor.value},s.setValue=function(p,h=!1){if(this.dirty=!0,h){this.descriptor=p;return}return this.descriptor.set?this.descriptor.set(p)!==!1:(this.descriptor.value=p,!0)},s.intact=function(){let p=Object.getOwnPropertyDescriptor(t,f);return p?.get===a.get&&p?.set===a.set&&n.get(f+"")===this},s.restore=function(){return this.intact()?(this.proto&&this.proto!==t||!this.proto&&!this.dirty?delete t[f]:Object.defineProperty(t,f,this.descriptor),n.delete(f+""),!0):!1},n.set(isNaN(f)?f:parseInt(f),s);let{enumerable:u=!0}=s.descriptor,a={enumerable:u,configurable:!0};("value"in s.descriptor||s.descriptor.set)&&(a.set=function(p){return F(this,f,p,r)}),("value"in s.descriptor||s.descriptor.get)&&(a.get=function(){return M(this,f,r)});try{return Object.defineProperty(t,f,a),!0}catch{return n.delete(f+""),!1}}let c=(Array.isArray(e)?e:e===void 0?Object.keys(t):[e]).map(i);return e===void 0||Array.isArray(e)?c:c[0]}function Ke(t,e,r={}){t=ue(t);let n=g(t,"accessorizedProps");function o(c){return n.has(c+"")?n.get(c+"").restore():!0}let l=(Array.isArray(e)?e:e===void 0?Object.keys(t):[e]).map(o);return e===void 0||Array.isArray(e)?l:l[0]}function Te(t,e={},r=void 0){let n=ue(t);if(typeof e.membrane=="boolean")throw new Error("The params.membrane parameter cannot be of type boolean.");if(e.membrane&&g(n,"membraneRef").has(e.membrane))return g(n,"membraneRef").get(e.membrane);let o={apply:(c,f,s)=>pe(c,f,s,void 0,e),construct:(c,f,s=null)=>me(c,f,s,e),defineProperty:(c,f,s)=>K(c,f,s,e),deleteProperty:(c,f)=>H(c,f,e),get:(c,f,s=null)=>{let u={...e,receiver:s},a=M(c,f,u);return Array.isArray(c)&&typeof a=="function"?Te(a,{...e,arrayMethodName:f,membrane:s}):a},getOwnPropertyDescriptor:(c,f)=>Z(c,f,e),getPrototypeOf:c=>le(c,e),has:(c,f)=>ee(c,f,e),isExtensible:c=>ae(c,e),ownKeys:c=>W(c,e),preventExtensions:c=>de(c,e),set:(c,f,s,u=null)=>F(c,f,s,{...e,receiver:u}),setPrototypeOf:(c,f)=>he(c,f,e)},i=r?.(o)||o,l=new Proxy(n,i);return e.membrane&&g(n,"membraneRef").set(e.membrane,l),g(l).set(l,n),l}function k(t){return g(t).get(t)||t}function ue(t){if(!t||!w(t))throw new Error("Target must be of type object!");return k(t)}var G=class extends Array{};function He(...t){return new G(...t)}function ye(t,e,r,n=i=>i,o={}){if(e.length)return function i(l,c,f){let s=c[f.level],u=f.level===c.length-1;return l instanceof O&&l.operation!=="get"?f={...f,probe:"always"}:f.probe!=="always"&&(f={...f,probe:!u}),r(l,s,(a,...p)=>{let h=m=>{m instanceof O&&(m.path=[m.key],l instanceof O&&(m.path=l.path.concat(m.key),Object.defineProperty(m,"context",{get:()=>l,configurable:!0})))},_=m=>{let x=E(m,!1);return V(x,d=>{m instanceof O?m.value=d:m=d;let y=p[0]||{};return i(m,c,{...f,...y,level:f.level+1})})};return te(s)&&Array.isArray(a)?(a.forEach(h),u?n(a,...p):a.map(_)):(h(a),u?n(a,...p):_(a))},f)}(t,e.slice(0),{...o,level:0})}function ge(t,e,r,n={}){if(t=E(t,!n.level),D(arguments[1])&&([,r,n={}]=arguments,e=1/0),!D(r))throw new Error(`Handler must be a function; "${z(r)}" given!`);if(e instanceof G)return ye(t,e,ge,r,n);if(n={...n,descripted:!0},delete n.live,!w(t))return n.probe&&M(t,e,r,n);let o=Ee(t,e,r,n);return n.probe?M(t,e,o,n):o()}function Ge(t,e,r={}){return t=E(t),b(e)||([,,,r={}]=arguments,e={[arguments[1]]:arguments[2]}),N.getInstance(t,!0,r.namespace).addRegistration({traps:e,params:r})}function Z(t,e,r=o=>o,n={}){return A(t,"getOwnPropertyDescriptor",{key:e},r,n)}function Je(t,e,r=o=>o,n={}){return A(t,"getOwnPropertyDescriptors",{key:e},r,n)}function le(t,e=n=>n,r={}){return A(t,"getPrototypeOf",{},e,r)}function ae(t,e=n=>n,r={}){return A(t,"isExtensible",{},e,r)}function W(t,e=n=>n,r={}){return A(t,"ownKeys",{},e,r)}function ee(t,e,r=o=>o,n={}){return A(t,"has",{key:e},r,n)}function M(t,e,r=o=>o,n={}){let o,i=E(t,!n.level);return b(r)?[n,r]=[r,l=>l]:n.live&&(o=!0),e instanceof G?ye(i,e,M,r,n):Ze(i,e,l=>{let c=[...l];return function f(s,u,a){if(!u.length)return a(s);let p=u.shift();if(!["string","number","symbol"].includes(typeof p))throw new Error(`Property name/key ${p} invalid.`);function h(x,d=void 0){let y=T=>(x.value=T,f([...s,n.live||n.descripted?x:T],u,a));if(arguments.length>1)return y(d);if(!w(i))return y(i?.[x.key]);let v=g(i,"accessorizedProps",!1),j=v&&v.get(x.key);if(j&&j.intact())return y(j.getValue(n.withPropertyDescriptors));if(n.withPropertyDescriptors){let T=Object.getOwnPropertyDescriptor(i,x.key);return y(T)}return y(Reflect.get(i,x.key))}let _=new O(i,{type:"get",key:p,value:void 0,operation:"get",related:c});if(!w(i))return h(_);let m=N.getInstance(i,!1,n.namespace);return m?m.emit(_,h):h(_)}([],l.slice(0),f=>{let s=te(e)?f:f[0];return o&&w(i)?Ee(i,e,r,n)(s):r(s)})},n)}function _e(t,e,r={}){return t=E(t),I.getInstance(t,!0,r.namespace).batch(e,r)}function Qe(t,e,r={}){e=E(e),t=E(t);let n=(r.only||[]).slice(0),o=(r.except||[]).slice(0),i=W(r.spread?[...t]:t).map(s=>isNaN(s)?s:parseInt(s)),l=n.length?n.filter(s=>i.includes(s)):i.filter(s=>!o.includes(s)),c=s=>!Array.isArray(e)||isNaN(s)?s:s-o.filter(u=>u<s).length,f=s=>{let u=Z(t,s,r);"value"in u&&u.writable&&u.enumerable&&u.configurable?F(e,c(s),u.value,r):(u.enumerable||r.onlyEnumerable===!1)&&K(e,s,{...u,configurable:!0},r)};return _e(e,()=>{l.forEach(f)}),ge(t,s=>{s.filter(u=>n.length?n.includes(u.key):!o.includes(u.key)).forEach(u=>{if(u.operation==="deleteProperty")return H(e,c(u.key),r);if(u.operation==="defineProperty"){(u.value.enumerable||r.onlyEnumerable===!1)&&K(e,c(u.key),{...u.value,configurable:!0},r);return}f(u.key)})},{...r,withPropertyDescriptors:!0})}function F(t,e,r,n=l=>l,o={},i=!1){let l=E(t),c=[[e,r]];b(e)&&([,,n=s=>s,o={},i=!1]=arguments,c=Object.entries(e)),b(n)&&([i,o,n]=[typeof o=="boolean"?o:i,n,s=>s]);let f=c.map(([s])=>s);return function s(u,a,p){if(!a.length)return p(u);let[h,_]=a.shift();function m(d,y=void 0){let v=De=>(d.status=De,s(u.concat(d),a,p));if(arguments.length>1)return v(d,y);let j=g(l,"accessorizedProps",!1),T=j&&j.get(d.key);return d.operation==="defineProperty"?(T&&!T.restore()&&v(!1),Object.defineProperty(l,d.key,d.value),v(!0)):T&&T.intact()?v(T.setValue(d.value)):v(Reflect.set(l,d.key,d.value))}function x(d,y){if(o.diff&&_===y)return s(u,a,p);let v=new O(l,{type:i?"def":"set",key:h,value:_,isUpdate:d,oldValue:y,related:[...f],operation:i?"defineProperty":"set",detail:o.detail}),j=N.getInstance(l,!1,o.namespace);return j?j.emit(v,m):m(v)}return ee(l,h,d=>{if(!d)return x(d);if(h==="length"&&Array.isArray(l)&&g(l).has("$length"))return x(!0,g(l).get("$length"));let y={...o,withPropertyDescriptors:i};return M(l,h,v=>x(d,v),y)},o)}([],c.slice(0),s=>{let u=I.getInstance(l,!1,o.namespace);return u&&u.emit(s,{eventsArePropertyDescriptors:!!i}),n(te(e)?s.map(a=>a.status):s[0]?.status)})}function K(t,e,r,n=i=>i,o={}){return F(t,e,r,n,o,!0)}function Xe(t,e,r=o=>o,n={}){return F(t,e,r,n,!0)}function H(t,e,r=o=>o,n={}){t=E(t),b(r)&&([n,r]=[r,l=>l]);let o=R(e,!1),i=[...o];return function l(c,f,s){if(!f.length)return s(c);let u=f.shift();function a(h,_=void 0){let m=y=>(h.status=y,l(c.concat(h),f,s));if(arguments.length>1)return m(h,_);let x=g(t,"accessorizedProps",!1),d=x&&x.get(h.key);return d&&!d.restore()&&m(!1),m(Reflect.deleteProperty(t,h.key))}function p(h){let _=new O(t,{type:"delete",key:u,oldValue:h,related:[...i],operation:"deleteProperty",detail:n.detail}),m=N.getInstance(t,!1,n.namespace);return m?m.emit(_,a):a(_)}return M(t,u,p,n)}([],o.slice(0),l=>{let c=I.getInstance(t,!1,n.namespace);return c&&c.emit(l),r(te(e)?l.map(f=>f.status):l[0].status)})}function Ye(t,e,r=o=>o,n={}){return H(...arguments)}function me(t,e,r=null,n=i=>i,o={}){return A(t,"construct",arguments.length>2?{argumentsList:e,newTarget:r}:{argumentsList:e},n,o)}function pe(t,e,r,n=i=>i,o={}){let i=k(e),l;if(Array.isArray(e)){if(o.arrayMethodName){let c=new O(i,{operation:o.arrayMethodName,argumentsList:r});I.getInstance(i,!1,o.namespace)?.emit([c],{eventIsArrayMethodDescriptor:!0})}g(i).set("$length",i.length),l=_e(i,()=>A(t,"apply",{thisArgument:e,argumentsList:r},n,o),o),g(i).delete("$length")}else l=A(t,"apply",{thisArgument:i,argumentsList:r},n,o);return l}function he(t,e,r=o=>o,n={}){return A(t,"setPrototypeOf",{proto:e},r,n)}function de(t,e=n=>n,r={}){return A(t,"preventExtensions",{},e,r)}function Ee(t,e,r,n={}){let o=new AbortController;Y.setMaxListeners?.(0,o.signal),n.signal&&n.signal.addEventListener("abort",()=>o.abort()),n={...n,signal:o.signal};let i=I.getInstance(t,!0,n.namespace);return function l(c,f=null){f?.remove();let u={signal:i.addRegistration(e,l,n).signal};if(arguments.length){let a=r(c,u);if(arguments.length>1)return a}return o}}function A(t,e,r={},n=i=>i,o={}){t=E(t),b(n)&&([o,n]=[n,f=>f]);function i(f,s){return arguments.length>1?n(s):n((Reflect[e]||Object[e])(t,...Object.values(r)))}let l=new O(t,{operation:e,...r}),c=N.getInstance(t,!1,o.namespace);return c?c.emit(l,i):i(l)}function te(t){return t===1/0||Array.isArray(t)}function E(t,e=!0){if((!t||!w(t))&&e)throw new Error(`Object must be of type object or array! "${z(t)}" given.`);return t instanceof O&&(t=t.value),t&&k(t)}function Ze(t,e,r,n={}){return e===1/0?n.level&&!w(t)?r([]):W(t,r,n):r(R(e,!1))}var et={...xe,...ce},je=et;self.webqit||(self.webqit={});self.webqit.Observer=je;})();
//# sourceMappingURL=main.js.map
