(()=>{var Re=Object.defineProperty;var _e=(t,e)=>{for(var n in e)Re(t,n,{get:e[n],enumerable:!0})};var xe={};_e(xe,{apply:()=>Q,batch:()=>me,construct:()=>de,defineProperties:()=>Qe,defineProperty:()=>pe,deleteProperties:()=>Xe,deleteProperty:()=>ee,get:()=>R,getOwnPropertyDescriptor:()=>ce,getOwnPropertyDescriptors:()=>Je,getPrototypeOf:()=>le,has:()=>Z,intercept:()=>Ge,isExtensible:()=>ae,observe:()=>Te,ownKeys:()=>Y,path:()=>Ke,preventExtensions:()=>ge,reduce:()=>ye,set:()=>B,setPrototypeOf:()=>he});function x(t){return!Array.isArray(t)&&typeof t=="object"&&t}function N(t){return typeof t}function A(t){return Array.isArray(t)}function re(t,e,n=null){return A(e)?t.filter(r=>n?e.filter(o=>n(r,o)).length:e.indexOf(r)!==-1):[]}function H(t,...e){if(globalThis.webqit||(globalThis.webqit={}),globalThis.webqit.refs||Object.defineProperty(globalThis.webqit,"refs",{value:new U}),!arguments.length)return globalThis.webqit.refs;let n=globalThis.webqit.refs.get(t);n||(n=new U,globalThis.webqit.refs.set(t,n));let r,o;for(;r=e.shift();)(o=n)&&!(n=n.get(r))&&(n=new U,o.set(r,n));return n}var U=class extends Map{constructor(...e){super(...e),this.observers=new Set}set(e,n){let r=super.set(e,n);return this.fire("set",e,n,e),r}delete(e){let n=super.delete(e);return this.fire("delete",e),n}has(e){return this.fire("has",e),super.has(e)}get(e){return this.fire("get",e),super.get(e)}keyNames(){return Array.from(super.keys())}observe(e,n,r){let o={type:e,key:n,callback:r};return this.observers.add(o),()=>this.observers.delete(o)}unobserve(e,n,r){if(Array.isArray(e)||Array.isArray(n))throw new Error('The "type" and "key" arguments can only be strings.');for(let o of this.observers)W([e,"*"],o.type)&&W([n,"*"],o.key)&&o.callback===r&&this.observers.delete(o)}fire(e,n,...r){for(let o of this.observers)W([e,"*"],o.type)&&W([n,"*"],o.key)&&o.callback(...r)}},W=(t,e)=>Array.isArray(e)?re(t,e).length:t.includes(e);function z(t){return typeof t=="function"}function ne(t){return t===null||t===""}function S(t){return arguments.length&&(t===void 0||typeof t>"u")}function _(t){return Array.isArray(t)||typeof t=="object"&&t||z(t)}function oe(t){return ne(t)||S(t)||t===!1||t===0||_(t)&&!Object.keys(t).length}function j(t){return z(t)||t&&{}.toString.call(t)==="[object function]"}function K(t){return t instanceof String||typeof t=="string"&&t!==null}function ie(t){return!K(t)&&!S(t.length)}function q(t,e=!0){return A(t)?t:!e&&x(t)?[t]:t!==!1&&t!==0&&oe(t)?[]:ie(t)?Array.prototype.slice.call(t):x(t)?Object.values(t):[t]}var d=(...t)=>H("observer-api",...t),L=(t,e)=>t instanceof Promise?t.then(e):e(t),G={};var F=class{constructor(e,n){this.registry=e,Object.assign(this,{...n,target:e.target}),this.params.signal&&this.params.signal.addEventListener("abort",()=>this.remove())}remove(){return this.removed=!0,this.registry.removeRegistration(this)}};var M=class extends F{constructor(){super(...arguments),this.emit.currentRegistration=this,Object.defineProperty(this,"abortController",{value:new AbortController}),Object.defineProperty(this,"signal",{value:this.abortController.signal}),G.setMaxListeners?.(0,this.signal)}remove(){this.abortController.abort(),super.remove()}fire(e){if(this.emit.recursionTarget&&!["inject","force-async","force-sync"].includes(this.params.recursions))return;let n=e,r=this.filter;if(r!==1/0&&(r=q(r,!1))&&(n=e.filter(o=>r.includes(o.key))),this.params.diff&&(n=n.filter(o=>o.type!=="set"||o.value!==o.oldValue)),n.length){if(this.emit.recursionTarget&&this.params.recursions!=="force-sync"){this.emit.recursionTarget.push(...n);return}this.emit.recursionTarget=this.params.recursions==="inject"?n:[];let o=this.filter===1/0||Array.isArray(this.filter)?this.emit(n,this):this.emit(n[0],this);return L(o,u=>{let c=this.emit.recursionTarget;return delete this.emit.recursionTarget,this.params.recursions==="force-async"&&c.length?this.emit.currentRegistration.fire(c):u})}}};var V=class{constructor(e){this.target=e,this.entries=[]}addRegistration(e){return this.entries.push(e),e}removeRegistration(e){this.entries=this.entries.filter(n=>n!==e)}static _getInstance(e,n,r=!0,o=this.__namespace){if(!_(n))throw new Error(`Subject must be of type object; "${N(n)}" given!`);let u=this;return o&&d("namespaces").has(e+"-"+o)&&(u=d("namespaces").get(e+"-"+o),e+="-"+o),!d(n,"registry").has(e)&&r&&d(n,"registry").set(e,new u(n)),d(n,"registry").get(e)}static _namespace(e,n,r=null){if(e+="-"+n,arguments.length===2)return d("namespaces").get(e);if(!(r.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${n} must be a subclass of ${this.name}.`);d("namespaces").set(e,r),r.__namespace=n}};var b=class{constructor(e,n){if(this.target=e,!n.operation)throw new Error("Descriptor operation must be given in definition!");Object.assign(this,n)}};var C=class extends V{static getInstance(e,n=!0,r=null){return super._getInstance("listeners",...arguments)}static namespace(e,n=null){return super._namespace("listeners",...arguments)}constructor(e){super(e),this.batches=[]}addRegistration(e,n,r){return super.addRegistration(new M(this,{filter:e,emit:n,params:r}))}emit(e,n=!1){if(this.batches.length){this.batches[0].events.push(...e);return}let r;this.entries.forEach(o=>{if(n&&!o.params.propertyDescriptors){r=r||e.map(u=>{let{target:c,value:f,oldValue:i,type:s,...l}=u;return f=f.get?f.get():f.value,i=i?.get?i.get():i?.value,new b(c,{type:"set",value:f,oldValue:i,...l})}),o.fire(r);return}o.fire(e)})}batch(e){this.batches.unshift({entries:[...this.entries],events:[]});let n=e();return L(n,r=>{let o=this.batches.shift();return o.events.length&&o.entries.forEach(u=>u.fire(o.events)),r})}};var $=class extends F{exec(e,n,r){return this.running||!this.traps[e.operation]?n(...Array.prototype.slice.call(arguments,2)):(this.running=!0,this.traps[e.operation](e,r,(...o)=>(this.running=!1,n(...o))))}};var I=class extends V{static getInstance(e,n=!0,r=null){return super._getInstance("traps",...arguments)}static namespace(e,n=null){return super._namespace("traps",...arguments)}addRegistration(e){return super.addRegistration(new $(this,e))}emit(e,n=null){let r=this;return function o(u,...c){let f=r.entries[u];return f?f.exec(e,(...i)=>o(u+1,...i),...c):n?n(e,...c):c[0]}(0)}};var ue={};_e(ue,{accessorize:()=>We,proxy:()=>Ae,unaccessorize:()=>He,unproxy:()=>X});function We(t,e,n={}){t=J(t);let r=d(t,"accessorizedProps");function o(i){let s,l=t;do s=Object.getOwnPropertyDescriptor(l,i);while(!s&&(l=Object.getPrototypeOf(l)));return s?{proto:l,descriptor:s}:{descriptor:{value:void 0,configurable:!0,enumerable:!0,writable:!0}}}function u(i){if(r.has(i+""))return!0;let s=o(i);s.getValue=function(m=!1){return m?this.descriptor:this.descriptor.get?this.descriptor.get():this.descriptor.value},s.setValue=function(m,g=!1){if(this.dirty=!0,g){this.descriptor=m;return}return this.descriptor.set?this.descriptor.set(m)!==!1:(this.descriptor.value=m,!0)},s.intact=function(){let m=Object.getOwnPropertyDescriptor(t,i);return m?.get===a.get&&m?.set===a.set&&r.get(i+"")===this},s.restore=function(){return this.intact()?(this.proto&&this.proto!==t||!this.proto&&!this.dirty?delete t[i]:Object.defineProperty(t,i,this.descriptor),r.delete(i+""),!0):!1},r.set(i+"",s);let{enumerable:l=!0}=s.descriptor,a={enumerable:l,configurable:!0};("value"in s.descriptor||s.descriptor.set)&&(a.set=function(m){return B(this,i,m,n)}),("value"in s.descriptor||s.descriptor.get)&&(a.get=function(){return R(this,i,n)});try{return Object.defineProperty(t,i,a),!0}catch{return r.delete(i+""),!1}}let f=(Array.isArray(e)?e:e===void 0?Object.keys(t):[e]).map(u);return e===void 0||Array.isArray(e)?f:f[0]}function He(t,e,n={}){t=J(t);let r=d(t,"accessorizedProps");function o(f){return r.has(f+"")?r.get(f+"").restore():!0}let c=(Array.isArray(e)?e:e===void 0?Object.keys(t):[e]).map(o);return e===void 0||Array.isArray(e)?c:c[0]}function Ae(t,e={},n=void 0){let r=J(t);if(typeof e.membrane=="boolean")throw new Error("The params.membrane parameter cannot be of type boolean.");if(e.membrane&&d(r,"membraneRef").has(e.membrane))return d(r,"membraneRef").get(e.membrane);let o={apply(f,i,s){if(Array.isArray(i)){let l=J(i);return d(l).set("$length",l.length),me(l,()=>Q(f,i,s))}return Q(f,i,s)},construct:(f,i,s=null)=>de(f,i,s,e),defineProperty:(f,i,s)=>pe(f,i,s,e),deleteProperty:(f,i)=>ee(f,i,e),get:(f,i,s=null)=>{let l={...e,receiver:s};Array.isArray(f)&&i==="length"&&d(f).has("$length")&&(l.forceValue=d(f).get("$length"));let a=R(f,i,l);return Array.isArray(f)&&typeof a=="function"?Ae(a,{...e,membrane:s}):a},getOwnPropertyDescriptor:(f,i)=>ce(f,i,e),getPrototypeOf:f=>le(f,e),has:(f,i)=>Z(f,i,e),isExtensible:f=>ae(f,e),ownKeys:f=>Y(f,e),preventExtensions:f=>ge(f,e),set:(f,i,s,l=null)=>{let a={...e,receiver:l};return Array.isArray(f)&&i==="length"&&(a.forceOldValue=d(f).get("$length"),d(f).set("$length",s)),B(f,i,s,a)},setPrototypeOf:(f,i)=>he(f,i,e)},u=n?.(o)||o,c=new Proxy(r,u);return e.membrane&&d(r,"membraneRef").set(e.membrane,c),d(c).set(c,r),c}function X(t){return d(t).get(t)||t}function J(t){if(!t||!_(t))throw new Error("Target must be of type object!");return X(t)}var k=class extends Array{};function Ke(...t){return new k(...t)}function ye(t,e,n,r=u=>u,o={}){if(e.length)return function u(c,f,i){let s=f[i.level],l=i.level===f.length-1;return c instanceof b&&c.operation!=="get"?i={...i,probe:"always"}:i.probe!=="always"&&(i={...i,probe:!l}),n(c,s,(a,...m)=>{let g=p=>{p instanceof b&&(p.path=[p.key],c instanceof b&&(p.path=c.path.concat(p.key),Object.defineProperty(p,"context",{get:()=>c,configurable:!0})))},O=p=>{let w=D(p,!1);return L(w,h=>{p instanceof b?p.value=h:p=h;let y=m[0]||{};return u(p,f,{...i,...y,level:i.level+1})})};return te(s)&&Array.isArray(a)?(a.forEach(g),l?r(a,...m):a.map(O)):(g(a),l?r(a,...m):O(a))},i)}(t,e.slice(0),{...o,level:0})}function Te(t,e,n,r={}){if(t=D(t,!r.level),j(arguments[1])&&([,n,r={}]=arguments,e=1/0),!j(n))throw new Error(`Handler must be a function; "${N(n)}" given!`);if(e instanceof k)return ye(t,e,Te,n,r);if(r={...r,descripted:!0},delete r.live,!_(t))return r.probe&&R(t,e,n,r);let o=Ee(t,e,n,r);return r.probe?R(t,e,o,r):o()}function Ge(t,e,n={}){return t=D(t),x(e)||([,,,n={}]=arguments,e={[arguments[1]]:arguments[2]}),I.getInstance(t,!0,n.namespace).addRegistration({traps:e,params:n})}function ce(t,e,n=o=>o,r={}){return T(t,"getOwnPropertyDescriptor",{key:e},n,r)}function Je(t,e,n=o=>o,r={}){return T(t,"getOwnPropertyDescriptors",{key:e},n,r)}function le(t,e=r=>r,n={}){return T(t,"getPrototypeOf",{},e,n)}function ae(t,e=r=>r,n={}){return T(t,"isExtensible",{},e,n)}function Y(t,e=r=>r,n={}){return T(t,"ownKeys",{},e,n)}function Z(t,e,n=o=>o,r={}){return T(t,"has",{key:e},n,r)}function R(t,e,n=o=>o,r={}){let o,u=D(t,!r.level);return x(n)?[r,n]=[n,c=>c]:r.live&&(o=!0),e instanceof k?ye(u,e,R,n,r):Ye(u,e,c=>{let f=[...c];return function i(s,l,a){if(!l.length)return a(s);let m=l.shift();if(!["string","number","symbol"].includes(typeof m))throw new Error(`Property name/key ${m} invalid.`);function g(w,h=void 0){let y=P=>(w.value=P,i([...s,r.live||r.descripted?w:P],l,a));if(arguments.length>1)return y(h);let v=d(u,"accessorizedProps",!1),E=v&&v.get(w.key+"");if(E&&E.intact())return y(E.getValue(r.propertyDescriptor));if(r.propertyDescriptor){let P=Object.getOwnPropertyDescriptor(u,w.key);return"forceValue"in r&&"value"in P&&(P.value=r.forceValue),y(P)}return"forceValue"in r?y(r.forceValue):y(Reflect.get(u,w.key,...r.receiver?[r.receiver]:[]))}let O=new b(u,{type:"get",key:m,value:void 0,operation:"get",related:f});if(!_(u))return i([...s,r.live||r.descripted?O:void 0],l,a);let p=I.getInstance(u,!1,r.namespace);return p?p.emit(O,g):g(O)}([],c.slice(0),i=>{let s=te(e)?i:i[0];return o&&_(u)?Ee(u,e,n,r)(s):n(s)})},r)}function me(t,e,n={}){return t=D(t),C.getInstance(t,!0,n.namespace).batch(e)}function B(t,e,n,r=c=>c,o={},u=!1){let c=D(t),f=[[e,n]];x(e)&&([,,r=s=>s,o={},u=!1]=arguments,f=Object.entries(e)),x(r)&&([u,o,r]=[typeof o=="boolean"?o:!1,r,s=>s]);let i=f.map(([s])=>s);return function s(l,a,m){if(!a.length)return m(l);let[g,O]=a.shift();function p(h,y=void 0){let v=Ie=>(h.status=Ie,s(l.concat(h),a,m));if(arguments.length>1)return v(h,y);let E=d(c,"accessorizedProps",!1),P=E&&E.get(h.key+"");return h.operation==="defineProperty"?(P&&!P.restore()&&v(!1),Object.defineProperty(c,h.key,h.value),v(!0)):P&&P.intact()?v(P.setValue(h.value)):v(Reflect.set(c,h.key,h.value))}function w(h,y){if(o.diff&&O===y)return s(l,a,m);let v=new b(c,{type:u?"def":"set",key:g,value:O,isUpdate:h,oldValue:y,related:[...i],operation:u?"defineProperty":"set",detail:o.detail}),E=I.getInstance(c,!1,o.namespace);return E?E.emit(v,p):p(v)}return Z(c,g,h=>{if(!h)return w(h);let y={...o,propertyDescriptor:u};return"forceOldValue"in o&&(y.forceValue=o.forceOldValue),R(c,g,v=>w(h,v),y)},o)}([],f.slice(0),s=>{let l=C.getInstance(c,!1,o.namespace);return l&&l.emit(s,u),r(te(e)?s.map(a=>a.status):s[0]?.status)})}function pe(t,e,n,r=u=>u,o={}){return B(t,e,n,r,o,!0)}function Qe(t,e,n=o=>o,r={}){return B(t,e,n,r,!0)}function ee(t,e,n=o=>o,r={}){t=D(t),x(n)&&([r,n]=[n,c=>c]);let o=q(e,!1),u=[...o];return function c(f,i,s){if(!i.length)return s(f);let l=i.shift();function a(g,O=void 0){let p=y=>(g.status=y,c(f.concat(g),i,s));if(arguments.length>1)return p(g,O);let w=d(t,"accessorizedProps",!1),h=w&&w.get(g.key+"");return h&&!h.restore()&&p(!1),p(Reflect.deleteProperty(t,g.key))}function m(g){let O=new b(t,{type:"delete",key:l,oldValue:g,related:[...u],operation:"deleteProperty",detail:r.detail}),p=I.getInstance(t,!1,r.namespace);return p?p.emit(O,a):a(O)}return R(t,l,m,r)}([],o.slice(0),c=>{let f=C.getInstance(t,!1,r.namespace);return f&&f.emit(c),n(te(e)?c.map(i=>i.status):c[0].status)})}function Xe(t,e,n=o=>o,r={}){return ee(...arguments)}function de(t,e,n=null,r=u=>u,o={}){return T(t,"construct",arguments.length>2?{argumentsList:e,newTarget:n}:{argumentsList:e},r,o)}function Q(t,e,n,r=u=>u,o={}){return T(t,"apply",{thisArgument:e,argumentsList:n},r,o)}function he(t,e,n=o=>o,r={}){return T(t,"setPrototypeOf",{proto:e},n,r)}function ge(t,e=r=>r,n={}){return T(t,"preventExtensions",{},e,n)}function Ee(t,e,n,r={}){let o;r.signal||(o=new AbortController,r={...r,signal:o.signal},G.setMaxListeners?.(0,o.signal));let u=C.getInstance(t,!0,r.namespace);return function c(f,i=null){i?.remove();let l={signal:u.addRegistration(e,c,r).signal};if(arguments.length){let a=n(f,l);if(arguments.length>1)return a}return o}}function T(t,e,n={},r=u=>u,o={}){t=D(t),x(r)&&([o,r]=[r,i=>i]);function u(i,s){return arguments.length>1?r(s):r(Reflect[e](t,...Object.values(n)))}let c=new b(t,{operation:e,...n}),f=I.getInstance(t,!1,o.namespace);return f?f.emit(c,u):u(c)}function te(t){return t===1/0||Array.isArray(t)}function D(t,e=!0){if((!t||!_(t))&&e)throw new Error(`Object must be of type object or array! "${N(t)}" given.`);return t instanceof b&&(t=t.value),t&&X(t)}function Ye(t,e,n,r={}){return e===1/0?r.level&&!_(t)?n([]):Y(t,n,r):n(q(e,!1))}var Ze={...xe,...ue},je=Ze;self.webqit||(self.webqit={});self.webqit.Observer=je;})();
//# sourceMappingURL=main.js.map
