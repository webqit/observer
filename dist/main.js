(()=>{var je=Object.defineProperty;var xe=(e,t)=>{for(var n in t)je(e,n,{get:t[n],enumerable:!0})};var ge={};xe(ge,{apply:()=>pe,batch:()=>le,construct:()=>ae,defineProperties:()=>Qe,defineProperty:()=>me,deleteProperties:()=>Xe,deleteProperty:()=>X,get:()=>j,getOwnPropertyDescriptor:()=>se,getOwnPropertyDescriptors:()=>Je,getPrototypeOf:()=>ue,has:()=>Q,intercept:()=>Ge,isExtensible:()=>ce,observe:()=>Pe,ownKeys:()=>J,path:()=>He,preventExtensions:()=>he,reduce:()=>ye,set:()=>L,setPrototypeOf:()=>de});function x(e){return!Array.isArray(e)&&typeof e=="object"&&e}function D(e){return typeof e}function w(e){return Array.isArray(e)}function Z(e,t,n=null){return w(t)?e.filter(r=>n?t.filter(o=>n(r,o)).length:t.indexOf(r)!==-1):[]}function K(e,...t){if(globalThis.webqit||(globalThis.webqit={}),globalThis.webqit.refs||Object.defineProperty(globalThis.webqit,"refs",{value:new U}),!arguments.length)return globalThis.webqit.refs;let n=globalThis.webqit.refs.get(e);n||(n=new U,globalThis.webqit.refs.set(e,n));let r,o;for(;r=t.shift();)(o=n)&&!(n=n.get(r))&&(n=new U,o.set(r,n));return n}var U=class extends Map{constructor(...t){super(...t),this.observers=new Set}set(t,n){let r=super.set(t,n);return this.fire("set",t,n,t),r}delete(t){let n=super.delete(t);return this.fire("delete",t),n}has(t){return this.fire("has",t),super.has(t)}get(t){return this.fire("get",t),super.get(t)}keyNames(){return Array.from(super.keys())}observe(t,n,r){let o={type:t,key:n,callback:r};return this.observers.add(o),()=>this.observers.delete(o)}unobserve(t,n,r){if(Array.isArray(t)||Array.isArray(n))throw new Error('The "type" and "key" arguments can only be strings.');for(let o of this.observers)W([t,"*"],o.type)&&W([n,"*"],o.key)&&o.callback===r&&this.observers.delete(o)}fire(t,n,...r){for(let o of this.observers)W([t,"*"],o.type)&&W([n,"*"],o.key)&&o.callback(...r)}},W=(e,t)=>Array.isArray(t)?Z(e,t).length:e.includes(t);function R(e){return typeof e=="function"}function $(e){return R(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}function ee(e){return e===null||e===""}function F(e){return arguments.length&&(e===void 0||typeof e>"u")}function b(e){return Array.isArray(e)||typeof e=="object"&&e||R(e)}function te(e){return ee(e)||F(e)||e===!1||e===0||b(e)&&!Object.keys(e).length}function P(e){return R(e)||e&&{}.toString.call(e)==="[object function]"}function H(e){return e instanceof String||typeof e=="string"&&e!==null}function re(e){return!H(e)&&!F(e.length)}function q(e,t=!0){return w(e)?e:!t&&x(e)?[e]:e!==!1&&e!==0&&te(e)?[]:re(e)?Array.prototype.slice.call(e):x(e)?Object.values(e):[e]}var N=class{constructor(t,n){this.registry=t,Object.assign(this,{...n,target:t.target}),this.params.signal&&this.params.signal.addEventListener("abort",()=>this.remove())}remove(){return this.removed=!0,this.registry.removeRegistration(this)}};var y=(...e)=>K("observer-api",...e),B=(e,t)=>e instanceof Promise?e.then(t):t(e);var M=class extends N{constructor(){super(...arguments),this.emit.currentRegistration=this,Object.defineProperty(this,"abortController",{value:new AbortController}),Object.defineProperty(this,"signal",{value:this.abortController.signal})}remove(){this.abortController.abort(),super.remove()}fire(t){if(this.emit.recursionTarget&&!["inject","force-async","force-sync"].includes(this.params.recursions))return;let n=t,r=this.filter;if(r!==1/0&&(r=q(r,!1))&&(n=t.filter(o=>r.includes(o.key))),this.params.diff&&(n=n.filter(o=>o.type!=="set"||o.value!==o.oldValue)),n.length){if(this.emit.recursionTarget&&this.params.recursions!=="force-sync"){this.emit.recursionTarget.push(...n);return}this.emit.recursionTarget=this.params.recursions==="inject"?n:[];let o=this.filter===1/0||Array.isArray(this.filter)?this.emit(n,this):this.emit(n[0],this);return B(o,f=>{let s=this.emit.recursionTarget;return delete this.emit.recursionTarget,this.params.recursions==="force-async"&&s.length?this.emit.currentRegistration.fire(s):f})}}};var z=class{constructor(t){this.target=t,this.entries=[]}addRegistration(t){return this.entries.push(t),t}removeRegistration(t){this.entries=this.entries.filter(n=>n!==t)}static _getInstance(t,n,r=!0,o=this.__namespace){if(!b(n))throw new Error(`Subject must be of type object; "${D(n)}" given!`);let f=this;return o&&y("namespaces").has(t+"-"+o)&&(f=y("namespaces").get(t+"-"+o),t+="-"+o),!y(n,"registry").has(t)&&r&&y(n,"registry").set(t,new f(n)),y(n,"registry").get(t)}static _namespace(t,n,r=null){if(t+="-"+n,arguments.length===2)return y("namespaces").get(t);if(!(r.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${n} must be a subclass of ${this.name}.`);y("namespaces").set(t,r),r.__namespace=n}};var C=class extends z{static getInstance(t,n=!0,r=null){return super._getInstance("listeners",...arguments)}static namespace(t,n=null){return super._namespace("listeners",...arguments)}constructor(t){super(t),this.batches=[]}addRegistration(t,n,r){return super.addRegistration(new M(this,{filter:t,emit:n,params:r}))}emit(t){if(this.batches.length){this.batches[0].events.push(...t);return}this.entries.forEach(n=>n.fire(t))}batch(t){this.batches.unshift({entries:[...this.entries],events:[]});let n=t();return B(n,r=>{let o=this.batches.shift();return o.events.length&&o.entries.forEach(f=>f.fire(o.events)),r})}};var V=class extends N{exec(t,n,r){return this.running||!this.traps[t.type]?n(...Array.prototype.slice.call(arguments,2)):(this.running=!0,this.traps[t.type](t,r,(...o)=>(this.running=!1,n(...o))))}};var E=class extends z{static getInstance(t,n=!0,r=null){return super._getInstance("traps",...arguments)}static namespace(t,n=null){return super._namespace("traps",...arguments)}addRegistration(t){return super.addRegistration(new V(this,t))}emit(t,n=null){let r=this;return function o(f,...s){let c=r.entries[f];return c?c.exec(t,(...i)=>o(f+1,...i),...s):n?n(t,...s):s[0]}(0)}};var v=class{constructor(t,n){if(this.target=t,!n.type)throw new Error("Descriptor type must be given in definition!");Object.assign(this,n)}};var fe={};xe(fe,{accessorize:()=>ke,proxy:()=>Ke,unaccessorize:()=>We,unproxy:()=>G});function ke(e,t,n={}){e=ie(e);let r=y(e,"accessorizedProps");function o(i){let u,m=e;do u=Object.getOwnPropertyDescriptor(m,i);while(!u&&(m=Object.getPrototypeOf(m)));return u?{proto:m,descriptor:u}:{descriptor:{value:void 0,configurable:!0,enumerable:!0,writable:!0}}}function f(i){if(r.has(i+""))return!0;let u=o(i);u.getValue=function(){return this.descriptor.get?this.descriptor.get():this.descriptor.value},u.setValue=function(d){return this.dirty=!0,this.descriptor.set?this.descriptor.set(d)!==!1:(this.descriptor.value=d,!0)},u.intact=function(){let d=Object.getOwnPropertyDescriptor(e,i);return d?.get===a.get&&d?.set===a.set&&r.get(i+"")===this},u.restore=function(){return this.intact()?(this.proto&&this.proto!==e||!this.proto&&!this.dirty?delete e[i]:Object.defineProperty(e,i,this.descriptor),r.delete(i+""),!0):!1},r.set(i+"",u);let{enumerable:m=!0}=u.descriptor,a={enumerable:m,configurable:!0};("value"in u.descriptor||u.descriptor.set)&&(a.set=function(d){return L(this,i,d,n)}),("value"in u.descriptor||u.descriptor.get)&&(a.get=function(){return j(this,i,n)});try{return Object.defineProperty(e,i,a),!0}catch{return r.delete(i+""),!1}}let c=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(f);return t===void 0||Array.isArray(t)?c:c[0]}function We(e,t,n={}){e=ie(e);let r=y(e,"accessorizedProps");function o(c){return r.has(c+"")?r.get(c+"").restore():!0}let s=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(o);return t===void 0||Array.isArray(t)?s:s[0]}function Ke(e,t={}){e=ie(e);let n=new Proxy(e,{apply:(r,o,f)=>pe(r,o,f,t),construct:(r,o,f=null)=>ae(r,o,f,t),defineProperty:(r,o,f)=>me(r,o,f,t),deleteProperty:(r,o)=>X(r,o,t),get:(r,o,f=null)=>{let s=j(r,o,{...t,receiver:f});return t.proxyAutoBinding!==!1&&P(s)&&!$(s)?function(...c){let i=this||n;return le(i,()=>s.call(i,...c))}:s},getOwnPropertyDescriptor:(r,o)=>se(r,o,t),getPrototypeOf:r=>ue(r,t),has:(r,o)=>Q(r,o,t),isExtensible:r=>ce(r,t),ownKeys:r=>J(r,t),preventExtensions:r=>he(r,t),set:(r,o,f,s=null)=>L(r,o,f,{...t,receiver:s}),setPrototypeOf:(r,o)=>de(r,o,t)});return y(n).set(n,e),n}function G(e){return y(e).get(e)||e}function ie(e){if(!e||!b(e))throw new Error("Target must be of type object!");return G(e)}var k=class extends Array{};function He(...e){return new k(...e)}function ye(e,t,n,r=f=>f,o={}){if(t.length)return function f(s,c,i){let u=c[i.level],m=i.level===c.length-1;return s instanceof v&&s.type!=="get"?i={...i,probe:"always"}:i.probe!=="always"&&(i={...i,probe:!m}),n(s,u,(a,...d)=>{let h=l=>{l instanceof v&&(l.path=[l.key],s instanceof v&&(l.path=s.path.concat(l.key),Object.defineProperty(l,"context",{get:()=>s,configurable:!0})))},O=l=>{let p=S(l,!1);return B(p,g=>{l instanceof v?l.value=g:l=g;let _=d[0]||{};return f(l,c,{...i,..._,level:i.level+1})})};return Y(u)&&Array.isArray(a)?(a.forEach(h),m?r(a,...d):a.map(O)):(h(a),m?r(a,...d):O(a))},i)}(e,t.slice(0),{...o,level:0})}function Pe(e,t,n,r={}){if(e=S(e,!r.level),P(arguments[1])&&([,n,r={}]=arguments,t=1/0),!P(n))throw new Error(`Handler must be a function; "${D(n)}" given!`);if(t instanceof k)return ye(e,t,Pe,n,r);if(r={...r,descripted:!0},delete r.live,!b(e))return r.probe&&j(e,t,n,r);let o=Ae(e,t,n,r);return r.probe?j(e,t,o,r):o()}function Ge(e,t,n={}){return e=S(e),x(t)||([,,,n={}]=arguments,t={[arguments[1]]:arguments[2]}),E.getInstance(e,!0,n.namespace).addRegistration({traps:t,params:n})}function se(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptor",{key:t},n,r)}function Je(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptors",{key:t},n,r)}function ue(e,t=r=>r,n={}){return A(e,"getPrototypeOf",{},t,n)}function ce(e,t=r=>r,n={}){return A(e,"isExtensible",{},t,n)}function J(e,t=r=>r,n={}){return A(e,"ownKeys",{},t,n)}function Q(e,t,n=o=>o,r={}){return A(e,"has",{key:t},n,r)}function j(e,t,n=o=>o,r={}){let o;return e=S(e,!r.level),x(n)?[r,n]=[n,f=>f]:r.live&&(o=!0),t instanceof k?ye(e,t,j,n,r):Ye(e,t,f=>{let s=[...f];return function c(i,u,m){if(!u.length)return m(i);let a=u.shift();if(!["string","number","symbol"].includes(typeof a))throw new Error(`Property name/key ${a} invalid.`);function d(l,p=void 0){let g=I=>(l.value=I,c([...i,r.live||r.descripted?l:I],u,m));if(arguments.length>1)return g(p);let _=y(e,"accessorizedProps",!1),T=_&&_.get(l.key+"");return T&&T.intact()?g(T.getValue()):g(Reflect.get(e,l.key,...r.receiver?[r.receiver]:[]))}let h=new v(e,{type:"get",key:a,value:void 0,related:s});if(!b(e))return c([...i,r.live||r.descripted?h:void 0],u,m);let O=E.getInstance(e,!1,r.namespace);return O?O.emit(h,d):d(h)}([],f.slice(0),c=>{let i=Y(t)?c:c[0];return o&&b(e)?Ae(e,t,n,r)(i):n(i)})},r)}function le(e,t,n={}){return e=S(e),C.getInstance(e,!0,n.namespace).batch(t)}function L(e,t,n,r=s=>s,o={},f=!1){e=S(e);let s=[[t,n]];x(t)&&([,,r=i=>i,o={},f=!1]=arguments,s=Object.entries(t)),x(r)&&([f,o,r]=[typeof o=="boolean"?o:!1,r,i=>i]);let c=s.map(([i])=>i);return function i(u,m,a){if(!m.length)return a(u);let[d,h]=m.shift();function O(p,g=void 0){let _=Ee=>(p.status=Ee,i(u.concat(p),m,a));if(arguments.length>1)return _(p,g);let T=y(e,"accessorizedProps",!1),I=T&&T.get(p.key+"");return p.type==="defineProperty"?(I&&!I.restore()&&_(!1),Object.defineProperty(e,p.key,p.value),_(!0)):I&&I.intact()?_(I.setValue(p.value)):_(Reflect.set(e,p.key,p.value))}function l(p,g){if(o.diff&&h===g)return i(u,m,a);let _=new v(e,{type:f?"defineProperty":"set",key:d,value:h,isUpdate:p,oldValue:g,related:[...c],detail:o.detail}),T=E.getInstance(e,!1,o.namespace);return T?T.emit(_,O):O(_)}return Q(e,d,p=>p?j(e,d,g=>l(p,g),o):l(p),o)}([],s.slice(0),i=>{let u=C.getInstance(e,!1,o.namespace);return u&&u.emit(i),r(Y(t)?i.map(m=>m.status):i[0]?.status)})}function me(e,t,n,r=f=>f,o={}){return L(e,t,n,r,o,!0)}function Qe(e,t,n=o=>o,r={}){return L(e,t,n,r,!0)}function X(e,t,n=o=>o,r={}){e=S(e),x(n)&&([r,n]=[n,s=>s]);let o=q(t,!1),f=[...o];return function s(c,i,u){if(!i.length)return u(c);let m=i.shift();function a(h,O=void 0){let l=_=>(h.status=_,s(c.concat(h),i,u));if(arguments.length>1)return l(h,O);let p=y(e,"accessorizedProps",!1),g=p&&p.get(h.key+"");return g&&!g.restore()&&l(!1),l(Reflect.deleteProperty(e,h.key))}function d(h){let O=new v(e,{type:"deleteProperty",key:m,oldValue:h,related:[...f],detail:r.detail}),l=E.getInstance(e,!1,r.namespace);return l?l.emit(O,a):a(O)}return j(e,m,d,r)}([],o.slice(0),s=>{let c=C.getInstance(e,!1,r.namespace);return c&&c.emit(s),n(Y(t)?s.map(i=>i.status):s[0].status)})}function Xe(e,t,n=o=>o,r={}){return X(...arguments)}function ae(e,t,n=null,r=f=>f,o={}){return A(e,"construct",arguments.length>2?{argumentsList:t,newTarget:n}:{argumentsList:t},r,o)}function pe(e,t,n,r=f=>f,o={}){return A(e,"apply",{thisArgument:t,argumentsList:n},r,o)}function de(e,t,n=o=>o,r={}){return A(e,"setPrototypeOf",{proto:t},n,r)}function he(e,t=r=>r,n={}){return A(e,"preventExtensions",{},t,n)}function Ae(e,t,n,r={}){let o;r.signal||(o=new AbortController,r={...r,signal:o.signal});let f=C.getInstance(e,!0,r.namespace);return function s(c,i=null){i?.remove();let m={signal:f.addRegistration(t,s,r).signal};if(arguments.length){let a=n(c,m);if(arguments.length>1)return a}return o}}function A(e,t,n={},r=f=>f,o={}){e=S(e),x(r)&&([o,r]=[r,i=>i]);function f(i,u){return arguments.length>1?r(u):r(Reflect[t](e,...Object.values(n)))}let s=new v(e,{type:t,...n}),c=E.getInstance(e,!1,o.namespace);return c?c.emit(s,f):f(s)}function Y(e){return e===1/0||Array.isArray(e)}function S(e,t=!0){if((!e||!b(e))&&t)throw new Error(`Object must be of type object or array! "${D(e)}" given.`);return e instanceof v&&(e=e.value),e&&G(e)}function Ye(e,t,n,r={}){return t===1/0?r.level&&!b(e)?n([]):J(e,n,r):n(q(t,!1))}var Ze={...ge,...fe},Te=Ze;self.webqit||(self.webqit={});self.webqit.Observer=Te;})();
//# sourceMappingURL=main.js.map
