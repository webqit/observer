(()=>{var Re=Object.defineProperty;var _e=(t,e)=>{for(var n in e)Re(t,n,{get:e[n],enumerable:!0})};var xe={};_e(xe,{apply:()=>Q,batch:()=>me,construct:()=>he,defineProperties:()=>Qe,defineProperty:()=>pe,deleteProperties:()=>Xe,deleteProperty:()=>ee,get:()=>R,getOwnPropertyDescriptor:()=>ce,getOwnPropertyDescriptors:()=>Je,getPrototypeOf:()=>le,has:()=>Z,intercept:()=>Ge,isExtensible:()=>ae,observe:()=>Te,ownKeys:()=>Y,path:()=>Ke,preventExtensions:()=>ye,reduce:()=>ge,set:()=>B,setPrototypeOf:()=>de});function x(t){return!Array.isArray(t)&&typeof t=="object"&&t}function N(t){return typeof t}function A(t){return Array.isArray(t)}function re(t,e,n=null){return A(e)?t.filter(r=>n?e.filter(o=>n(r,o)).length:e.indexOf(r)!==-1):[]}function H(t,...e){if(globalThis.webqit||(globalThis.webqit={}),globalThis.webqit.refs||Object.defineProperty(globalThis.webqit,"refs",{value:new U}),!arguments.length)return globalThis.webqit.refs;let n=globalThis.webqit.refs.get(t);n||(n=new U,globalThis.webqit.refs.set(t,n));let r,o;for(;r=e.shift();)(o=n)&&!(n=n.get(r))&&(n=new U,o.set(r,n));return n}var U=class extends Map{constructor(...e){super(...e),this.observers=new Set}set(e,n){let r=super.set(e,n);return this.fire("set",e,n,e),r}delete(e){let n=super.delete(e);return this.fire("delete",e),n}has(e){return this.fire("has",e),super.has(e)}get(e){return this.fire("get",e),super.get(e)}keyNames(){return Array.from(super.keys())}observe(e,n,r){let o={type:e,key:n,callback:r};return this.observers.add(o),()=>this.observers.delete(o)}unobserve(e,n,r){if(Array.isArray(e)||Array.isArray(n))throw new Error('The "type" and "key" arguments can only be strings.');for(let o of this.observers)W([e,"*"],o.type)&&W([n,"*"],o.key)&&o.callback===r&&this.observers.delete(o)}fire(e,n,...r){for(let o of this.observers)W([e,"*"],o.type)&&W([n,"*"],o.key)&&o.callback(...r)}},W=(t,e)=>Array.isArray(e)?re(t,e).length:t.includes(e);function z(t){return typeof t=="function"}function ne(t){return t===null||t===""}function S(t){return arguments.length&&(t===void 0||typeof t>"u")}function _(t){return Array.isArray(t)||typeof t=="object"&&t||z(t)}function oe(t){return ne(t)||S(t)||t===!1||t===0||_(t)&&!Object.keys(t).length}function j(t){return z(t)||t&&{}.toString.call(t)==="[object function]"}function K(t){return t instanceof String||typeof t=="string"&&t!==null}function ie(t){return!K(t)&&!S(t.length)}function q(t,e=!0){return A(t)?t:!e&&x(t)?[t]:t!==!1&&t!==0&&oe(t)?[]:ie(t)?Array.prototype.slice.call(t):x(t)?Object.values(t):[t]}var h=(...t)=>H("observer-api",...t),L=(t,e)=>t instanceof Promise?t.then(e):e(t),G={};var F=class{constructor(e,n){this.registry=e,Object.assign(this,{...n,target:e.target}),this.params.signal&&this.params.signal.addEventListener("abort",()=>this.remove())}remove(){return this.removed=!0,this.registry.removeRegistration(this)}};var M=class extends F{constructor(){super(...arguments),this.emit.currentRegistration=this,Object.defineProperty(this,"abortController",{value:new AbortController}),Object.defineProperty(this,"signal",{value:this.abortController.signal}),G.setMaxListeners?.(0,this.signal)}remove(){this.abortController.abort(),super.remove()}fire(e){if(this.emit.recursionTarget&&!["inject","force-async","force-sync"].includes(this.params.recursions))return;let n=e,r=this.filter;if(r!==1/0&&(r=q(r,!1))&&(n=e.filter(o=>r.includes(o.key))),this.params.diff&&(n=n.filter(o=>o.type!=="set"||o.value!==o.oldValue)),n.length){if(this.emit.recursionTarget&&this.params.recursions!=="force-sync"){this.emit.recursionTarget.push(...n);return}this.emit.recursionTarget=this.params.recursions==="inject"?n:[];let o=this.filter===1/0||Array.isArray(this.filter)?this.emit(n,this):this.emit(n[0],this);return L(o,c=>{let u=this.emit.recursionTarget;return delete this.emit.recursionTarget,this.params.recursions==="force-async"&&u.length?this.emit.currentRegistration.fire(u):c})}}};var V=class{constructor(e){this.target=e,this.entries=[]}addRegistration(e){return this.entries.push(e),e}removeRegistration(e){this.entries=this.entries.filter(n=>n!==e)}static _getInstance(e,n,r=!0,o=this.__namespace){if(!_(n))throw new Error(`Subject must be of type object; "${N(n)}" given!`);let c=this;return o&&h("namespaces").has(e+"-"+o)&&(c=h("namespaces").get(e+"-"+o),e+="-"+o),!h(n,"registry").has(e)&&r&&h(n,"registry").set(e,new c(n)),h(n,"registry").get(e)}static _namespace(e,n,r=null){if(e+="-"+n,arguments.length===2)return h("namespaces").get(e);if(!(r.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${n} must be a subclass of ${this.name}.`);h("namespaces").set(e,r),r.__namespace=n}};var b=class{constructor(e,n){if(this.target=e,!n.type)throw new Error("Descriptor type must be given in definition!");Object.assign(this,n)}};var C=class extends V{static getInstance(e,n=!0,r=null){return super._getInstance("listeners",...arguments)}static namespace(e,n=null){return super._namespace("listeners",...arguments)}constructor(e){super(e),this.batches=[]}addRegistration(e,n,r){return super.addRegistration(new M(this,{filter:e,emit:n,params:r}))}emit(e,n=!1){if(this.batches.length){this.batches[0].events.push(...e);return}let r;this.entries.forEach(o=>{if(n&&!o.params.propertyDescriptors){r=r||e.map(c=>{let{target:u,value:f,oldValue:i,type:s,...l}=c;return f=f.get?f.get():f.value,i=i?.get?i.get():i?.value,new b(u,{type:"set",value:f,oldValue:i,...l})}),o.fire(r);return}o.fire(e)})}batch(e){this.batches.unshift({entries:[...this.entries],events:[]});let n=e();return L(n,r=>{let o=this.batches.shift();return o.events.length&&o.entries.forEach(c=>c.fire(o.events)),r})}};var $=class extends F{exec(e,n,r){return this.running||!this.traps[e.type]?n(...Array.prototype.slice.call(arguments,2)):(this.running=!0,this.traps[e.type](e,r,(...o)=>(this.running=!1,n(...o))))}};var I=class extends V{static getInstance(e,n=!0,r=null){return super._getInstance("traps",...arguments)}static namespace(e,n=null){return super._namespace("traps",...arguments)}addRegistration(e){return super.addRegistration(new $(this,e))}emit(e,n=null){let r=this;return function o(c,...u){let f=r.entries[c];return f?f.exec(e,(...i)=>o(c+1,...i),...u):n?n(e,...u):u[0]}(0)}};var ue={};_e(ue,{accessorize:()=>We,proxy:()=>Ae,unaccessorize:()=>He,unproxy:()=>X});function We(t,e,n={}){t=J(t);let r=h(t,"accessorizedProps");function o(i){let s,l=t;do s=Object.getOwnPropertyDescriptor(l,i);while(!s&&(l=Object.getPrototypeOf(l)));return s?{proto:l,descriptor:s}:{descriptor:{value:void 0,configurable:!0,enumerable:!0,writable:!0}}}function c(i){if(r.has(i+""))return!0;let s=o(i);s.getValue=function(m=!1){return m?this.descriptor:this.descriptor.get?this.descriptor.get():this.descriptor.value},s.setValue=function(m,y=!1){if(this.dirty=!0,y){this.descriptor=m;return}return this.descriptor.set?this.descriptor.set(m)!==!1:(this.descriptor.value=m,!0)},s.intact=function(){let m=Object.getOwnPropertyDescriptor(t,i);return m?.get===a.get&&m?.set===a.set&&r.get(i+"")===this},s.restore=function(){return this.intact()?(this.proto&&this.proto!==t||!this.proto&&!this.dirty?delete t[i]:Object.defineProperty(t,i,this.descriptor),r.delete(i+""),!0):!1},r.set(i+"",s);let{enumerable:l=!0}=s.descriptor,a={enumerable:l,configurable:!0};("value"in s.descriptor||s.descriptor.set)&&(a.set=function(m){return B(this,i,m,n)}),("value"in s.descriptor||s.descriptor.get)&&(a.get=function(){return R(this,i,n)});try{return Object.defineProperty(t,i,a),!0}catch{return r.delete(i+""),!1}}let f=(Array.isArray(e)?e:e===void 0?Object.keys(t):[e]).map(c);return e===void 0||Array.isArray(e)?f:f[0]}function He(t,e,n={}){t=J(t);let r=h(t,"accessorizedProps");function o(f){return r.has(f+"")?r.get(f+"").restore():!0}let u=(Array.isArray(e)?e:e===void 0?Object.keys(t):[e]).map(o);return e===void 0||Array.isArray(e)?u:u[0]}function Ae(t,e={},n=void 0){let r=J(t);if(typeof e.membrane=="boolean")throw new Error("The params.membrane parameter cannot be of type boolean.");if(e.membrane&&h(r,"membraneRef").has(e.membrane))return h(r,"membraneRef").get(e.membrane);let o={apply(f,i,s){if(Array.isArray(i)){let l=J(i);return h(l).set("$length",l.length),me(l,()=>Q(f,i,s))}return Q(f,i,s)},construct:(f,i,s=null)=>he(f,i,s,e),defineProperty:(f,i,s)=>pe(f,i,s,e),deleteProperty:(f,i)=>ee(f,i,e),get:(f,i,s=null)=>{let l={...e,receiver:s};Array.isArray(f)&&i==="length"&&h(f).has("$length")&&(l.forceValue=h(f).get("$length"));let a=R(f,i,l);return Array.isArray(f)&&typeof a=="function"?Ae(a,{...e,membrane:s}):a},getOwnPropertyDescriptor:(f,i)=>ce(f,i,e),getPrototypeOf:f=>le(f,e),has:(f,i)=>Z(f,i,e),isExtensible:f=>ae(f,e),ownKeys:f=>Y(f,e),preventExtensions:f=>ye(f,e),set:(f,i,s,l=null)=>{let a={...e,receiver:l};return Array.isArray(f)&&i==="length"&&(a.forceOldValue=h(f).get("$length"),h(f).set("$length",s)),B(f,i,s,a)},setPrototypeOf:(f,i)=>de(f,i,e)},c=n?.(o)||o,u=new Proxy(r,c);return e.membrane&&h(r,"membraneRef").set(e.membrane,u),h(u).set(u,r),u}function X(t){return h(t).get(t)||t}function J(t){if(!t||!_(t))throw new Error("Target must be of type object!");return X(t)}var k=class extends Array{};function Ke(...t){return new k(...t)}function ge(t,e,n,r=c=>c,o={}){if(e.length)return function c(u,f,i){let s=f[i.level],l=i.level===f.length-1;return u instanceof b&&u.type!=="get"?i={...i,probe:"always"}:i.probe!=="always"&&(i={...i,probe:!l}),n(u,s,(a,...m)=>{let y=p=>{p instanceof b&&(p.path=[p.key],u instanceof b&&(p.path=u.path.concat(p.key),Object.defineProperty(p,"context",{get:()=>u,configurable:!0})))},O=p=>{let w=D(p,!1);return L(w,d=>{p instanceof b?p.value=d:p=d;let g=m[0]||{};return c(p,f,{...i,...g,level:i.level+1})})};return te(s)&&Array.isArray(a)?(a.forEach(y),l?r(a,...m):a.map(O)):(y(a),l?r(a,...m):O(a))},i)}(t,e.slice(0),{...o,level:0})}function Te(t,e,n,r={}){if(t=D(t,!r.level),j(arguments[1])&&([,n,r={}]=arguments,e=1/0),!j(n))throw new Error(`Handler must be a function; "${N(n)}" given!`);if(e instanceof k)return ge(t,e,Te,n,r);if(r={...r,descripted:!0},delete r.live,!_(t))return r.probe&&R(t,e,n,r);let o=Ee(t,e,n,r);return r.probe?R(t,e,o,r):o()}function Ge(t,e,n={}){return t=D(t),x(e)||([,,,n={}]=arguments,e={[arguments[1]]:arguments[2]}),I.getInstance(t,!0,n.namespace).addRegistration({traps:e,params:n})}function ce(t,e,n=o=>o,r={}){return T(t,"getOwnPropertyDescriptor",{key:e},n,r)}function Je(t,e,n=o=>o,r={}){return T(t,"getOwnPropertyDescriptors",{key:e},n,r)}function le(t,e=r=>r,n={}){return T(t,"getPrototypeOf",{},e,n)}function ae(t,e=r=>r,n={}){return T(t,"isExtensible",{},e,n)}function Y(t,e=r=>r,n={}){return T(t,"ownKeys",{},e,n)}function Z(t,e,n=o=>o,r={}){return T(t,"has",{key:e},n,r)}function R(t,e,n=o=>o,r={}){let o,c=D(t,!r.level);return x(n)?[r,n]=[n,u=>u]:r.live&&(o=!0),e instanceof k?ge(c,e,R,n,r):Ye(c,e,u=>{let f=[...u];return function i(s,l,a){if(!l.length)return a(s);let m=l.shift();if(!["string","number","symbol"].includes(typeof m))throw new Error(`Property name/key ${m} invalid.`);function y(w,d=void 0){let g=P=>(w.value=P,i([...s,r.live||r.descripted?w:P],l,a));if(arguments.length>1)return g(d);let v=h(c,"accessorizedProps",!1),E=v&&v.get(w.key+"");if(E&&E.intact())return g(E.getValue(r.propertyDescriptor));if(r.propertyDescriptor){let P=Object.getOwnPropertyDescriptor(c,w.key);return"forceValue"in r&&"value"in P&&(P.value=r.forceValue),g(P)}return"forceValue"in r?g(r.forceValue):g(Reflect.get(c,w.key,...r.receiver?[r.receiver]:[]))}let O=new b(c,{type:"get",key:m,value:void 0,related:f});if(!_(c))return i([...s,r.live||r.descripted?O:void 0],l,a);let p=I.getInstance(c,!1,r.namespace);return p?p.emit(O,y):y(O)}([],u.slice(0),i=>{let s=te(e)?i:i[0];return o&&_(c)?Ee(c,e,n,r)(s):n(s)})},r)}function me(t,e,n={}){return t=D(t),C.getInstance(t,!0,n.namespace).batch(e)}function B(t,e,n,r=u=>u,o={},c=!1){let u=D(t),f=[[e,n]];x(e)&&([,,r=s=>s,o={},c=!1]=arguments,f=Object.entries(e)),x(r)&&([c,o,r]=[typeof o=="boolean"?o:!1,r,s=>s]);let i=f.map(([s])=>s);return function s(l,a,m){if(!a.length)return m(l);let[y,O]=a.shift();function p(d,g=void 0){let v=Ie=>(d.status=Ie,s(l.concat(d),a,m));if(arguments.length>1)return v(d,g);let E=h(u,"accessorizedProps",!1),P=E&&E.get(d.key+"");return d.type==="defineProperty"?(P&&!P.restore()&&v(!1),Object.defineProperty(u,d.key,d.value),v(!0)):P&&P.intact()?v(P.setValue(d.value)):v(Reflect.set(u,d.key,d.value))}function w(d,g){if(o.diff&&O===g)return s(l,a,m);let v=new b(u,{type:c?"defineProperty":"set",key:y,value:O,isUpdate:d,oldValue:g,related:[...i],detail:o.detail}),E=I.getInstance(u,!1,o.namespace);return E?E.emit(v,p):p(v)}return Z(u,y,d=>{if(!d)return w(d);let g={...o,propertyDescriptor:c};return"forceOldValue"in o&&(g.forceValue=o.forceOldValue),R(u,y,v=>w(d,v),g)},o)}([],f.slice(0),s=>{let l=C.getInstance(u,!1,o.namespace);return l&&l.emit(s,c),r(te(e)?s.map(a=>a.status):s[0]?.status)})}function pe(t,e,n,r=c=>c,o={}){return B(t,e,n,r,o,!0)}function Qe(t,e,n=o=>o,r={}){return B(t,e,n,r,!0)}function ee(t,e,n=o=>o,r={}){t=D(t),x(n)&&([r,n]=[n,u=>u]);let o=q(e,!1),c=[...o];return function u(f,i,s){if(!i.length)return s(f);let l=i.shift();function a(y,O=void 0){let p=g=>(y.status=g,u(f.concat(y),i,s));if(arguments.length>1)return p(y,O);let w=h(t,"accessorizedProps",!1),d=w&&w.get(y.key+"");return d&&!d.restore()&&p(!1),p(Reflect.deleteProperty(t,y.key))}function m(y){let O=new b(t,{type:"deleteProperty",key:l,oldValue:y,related:[...c],detail:r.detail}),p=I.getInstance(t,!1,r.namespace);return p?p.emit(O,a):a(O)}return R(t,l,m,r)}([],o.slice(0),u=>{let f=C.getInstance(t,!1,r.namespace);return f&&f.emit(u),n(te(e)?u.map(i=>i.status):u[0].status)})}function Xe(t,e,n=o=>o,r={}){return ee(...arguments)}function he(t,e,n=null,r=c=>c,o={}){return T(t,"construct",arguments.length>2?{argumentsList:e,newTarget:n}:{argumentsList:e},r,o)}function Q(t,e,n,r=c=>c,o={}){return T(t,"apply",{thisArgument:e,argumentsList:n},r,o)}function de(t,e,n=o=>o,r={}){return T(t,"setPrototypeOf",{proto:e},n,r)}function ye(t,e=r=>r,n={}){return T(t,"preventExtensions",{},e,n)}function Ee(t,e,n,r={}){let o;r.signal||(o=new AbortController,r={...r,signal:o.signal},G.setMaxListeners?.(0,o.signal));let c=C.getInstance(t,!0,r.namespace);return function u(f,i=null){i?.remove();let l={signal:c.addRegistration(e,u,r).signal};if(arguments.length){let a=n(f,l);if(arguments.length>1)return a}return o}}function T(t,e,n={},r=c=>c,o={}){t=D(t),x(r)&&([o,r]=[r,i=>i]);function c(i,s){return arguments.length>1?r(s):r(Reflect[e](t,...Object.values(n)))}let u=new b(t,{type:e,...n}),f=I.getInstance(t,!1,o.namespace);return f?f.emit(u,c):c(u)}function te(t){return t===1/0||Array.isArray(t)}function D(t,e=!0){if((!t||!_(t))&&e)throw new Error(`Object must be of type object or array! "${N(t)}" given.`);return t instanceof b&&(t=t.value),t&&X(t)}function Ye(t,e,n,r={}){return e===1/0?r.level&&!_(t)?n([]):Y(t,n,r):n(q(e,!1))}var Ze={...xe,...ue},je=Ze;self.webqit||(self.webqit={});self.webqit.Observer=je;})();
//# sourceMappingURL=main.js.map
