(()=>{var Ae=Object.defineProperty;var ye=(e,t)=>{for(var n in t)Ae(e,n,{get:t[n],enumerable:!0})};var he={};ye(he,{apply:()=>me,batch:()=>ce,construct:()=>ae,deep:()=>We,defineProperties:()=>Ge,defineProperty:()=>le,deleteProperties:()=>Je,deleteProperty:()=>Q,get:()=>C,getOwnPropertyDescriptor:()=>fe,getOwnPropertyDescriptors:()=>He,getPrototypeOf:()=>se,has:()=>J,intercept:()=>Ke,isExtensible:()=>ue,observe:()=>ke,ownKeys:()=>G,preventExtensions:()=>de,set:()=>L,setPrototypeOf:()=>pe});function x(e){return!Array.isArray(e)&&typeof e=="object"&&e}function D(e){return typeof e}function w(e){return Array.isArray(e)}function Y(e,t,n=null){return w(t)?e.filter(r=>n?t.filter(o=>n(r,o)).length:t.indexOf(r)!==-1):[]}function k(e,...t){if(globalThis.webqit||(globalThis.webqit={}),globalThis.webqit.refs||Object.defineProperty(globalThis.webqit,"refs",{value:new U}),!arguments.length)return globalThis.webqit.refs;let n=globalThis.webqit.refs.get(e);n||(n=new U,globalThis.webqit.refs.set(e,n));let r,o;for(;r=t.shift();)(o=n)&&!(n=n.get(r))&&(n=new U,o.set(r,n));return n}var U=class extends Map{constructor(...t){super(...t),this.observers=new Set}set(t,n){let r=super.set(t,n);return this.fire("set",t,n,t),r}delete(t){let n=super.delete(t);return this.fire("delete",t),n}has(t){return this.fire("has",t),super.has(t)}get(t){return this.fire("get",t),super.get(t)}keyNames(){return Array.from(super.keys())}observe(t,n,r){let o={type:t,key:n,callback:r};return this.observers.add(o),()=>this.observers.delete(o)}unobserve(t,n,r){if(Array.isArray(t)||Array.isArray(n))throw new Error('The "type" and "key" arguments can only be strings.');for(let o of this.observers)W([t,"*"],o.type)&&W([n,"*"],o.key)&&o.callback===r&&this.observers.delete(o)}fire(t,n,...r){for(let o of this.observers)W([t,"*"],o.type)&&W([n,"*"],o.key)&&o.callback(...r)}},W=(e,t)=>Array.isArray(t)?Y(e,t).length:e.includes(t);function R(e){return typeof e=="function"}function Z(e){return R(e)&&/^class\s?/.test(Function.prototype.toString.call(e))}function $(e){return e===null||e===""}function F(e){return arguments.length&&(e===void 0||typeof e>"u")}function b(e){return Array.isArray(e)||typeof e=="object"&&e||R(e)}function ee(e){return $(e)||F(e)||e===!1||e===0||b(e)&&!Object.keys(e).length}function P(e){return R(e)||e&&{}.toString.call(e)==="[object function]"}function K(e){return e instanceof String||typeof e=="string"&&e!==null}function te(e){return!K(e)&&!F(e.length)}function I(e,t=!0){return w(e)?e:!t&&x(e)?[e]:e!==!1&&e!==0&&ee(e)?[]:te(e)?Array.prototype.slice.call(e):x(e)?Object.values(e):[e]}var N=class{constructor(t,n){this.registry=t,Object.assign(this,{...n,target:t.target}),this.params.signal&&this.params.signal.addEventListener("abort",()=>this.remove())}remove(){return this.removed=!0,this.registry.removeRegistration(this)}};var y=(...e)=>k("observer-api",...e),B=(e,t)=>e instanceof Promise?e.then(t):t(e);var M=class extends N{constructor(){super(...arguments),Object.defineProperty(this,"abortController",{value:new AbortController}),Object.defineProperty(this,"signal",{value:this.abortController.signal})}remove(){this.abortController.abort(),super.remove()}fire(t){if(this.handler.recursionTarget&&!["inject","force-async","force-sync"].includes(this.params.recursions))return;let n=t,r=this.filter;if(r!==1/0&&(r=I(r,!1))&&(n=t.filter(o=>r.includes(o.key))),this.params.diff&&(n=n.filter(o=>o.type!=="set"||o.value!==o.oldValue)),n.length){if(this.handler.recursionTarget&&this.params.recursions!=="force-sync"){this.handler.recursionTarget.push(...n);return}this.handler.recursionTarget=this.params.recursions==="inject"?n:[];let o=this.filter===1/0||Array.isArray(this.filter)?this.handler(n,this):this.handler(n[0],this);return B(o,f=>{let s=this.handler.recursionTarget;return delete this.handler.recursionTarget,this.params.recursions==="force-async"&&s.length?this.fire(s):f})}}};var z=class{constructor(t){this.target=t,this.entries=[]}addRegistration(t){return this.entries.push(t),t}removeRegistration(t){this.entries=this.entries.filter(n=>n!==t)}static _getInstance(t,n,r=!0,o=this.__namespace){if(!b(n))throw new Error(`Subject must be of type object; "${D(n)}" given!`);let f=this;return o&&y("namespaces").has(t+"-"+o)&&(f=y("namespaces").get(t+"-"+o),t+="-"+o),!y(n,"registry").has(t)&&r&&y(n,"registry").set(t,new f(n)),y(n,"registry").get(t)}static _namespace(t,n,r=null){if(t+="-"+n,arguments.length===2)return y("namespaces").get(t);if(!(r.prototype instanceof this))throw new Error(`The implementation of the namespace ${this.name}.${n} must be a subclass of ${this.name}.`);y("namespaces").set(t,r),r.__namespace=n}};var q=class extends z{static getInstance(t,n=!0,r=null){return super._getInstance("listeners",...arguments)}static namespace(t,n=null){return super._namespace("listeners",...arguments)}constructor(t){super(t),this.batches=[]}addRegistration(t,n,r){return super.addRegistration(new M(this,{filter:t,handler:n,params:r}))}emit(t){if(this.batches.length){this.batches[0].events.push(...t);return}this.entries.forEach(n=>n.fire(t))}batch(t){this.batches.unshift({entries:[...this.entries],events:[]});let n=t();return B(n,r=>{let o=this.batches.shift();return o.events.length&&o.entries.forEach(f=>f.fire(o.events)),r})}};var V=class extends N{exec(t,n,r){return this.running||!this.traps[t.type]?n(...Array.prototype.slice.call(arguments,2)):(this.running=!0,this.traps[t.type](t,r,(...o)=>(this.running=!1,n(...o))))}};var E=class extends z{static getInstance(t,n=!0,r=null){return super._getInstance("traps",...arguments)}static namespace(t,n=null){return super._namespace("traps",...arguments)}addRegistration(t){return super.addRegistration(new V(this,t))}emit(t,n=null){let r=this;return function o(f,...s){let c=r.entries[f];return c?c.exec(t,(...i)=>o(f+1,...i),...s):n?n(t,...s):s[0]}(0)}};var v=class{constructor(t,n){if(this.target=t,!n.type)throw new Error("Descriptor type must be given in definition!");Object.assign(this,n)}};var ie={};ye(ie,{accessorize:()=>Ue,proxy:()=>Ve,unaccessorize:()=>Me,unproxy:()=>H});function Ue(e,t,n={}){e=oe(e);let r=y(e,"accessorizedProps");function o(i){let u,a=e;do u=Object.getOwnPropertyDescriptor(a,i);while(!u&&(a=Object.getPrototypeOf(a)));return u?{proto:a,descriptor:u}:{descriptor:{value:void 0,configurable:!0,enumerable:!0,writable:!0}}}function f(i){if(r.has(i+""))return!0;let u=o(i);u.getValue=function(){return this.descriptor.get?this.descriptor.get():this.descriptor.value},u.setValue=function(d){return this.dirty=!0,this.descriptor.set?this.descriptor.set(d)!==!1:(this.descriptor.value=d,!0)},u.intact=function(){let d=Object.getOwnPropertyDescriptor(e,i);return d?.get===m.get&&d?.set===m.set&&r.get(i+"")===this},u.restore=function(){return this.intact()?(this.proto&&this.proto!==e||!this.proto&&!this.dirty?delete e[i]:Object.defineProperty(e,i,this.descriptor),r.delete(i+""),!0):!1},r.set(i+"",u);let{enumerable:a=!0}=u.descriptor,m={enumerable:a,configurable:!0};("value"in u.descriptor||u.descriptor.set)&&(m.set=function(d){return L(this,i,d,n)}),("value"in u.descriptor||u.descriptor.get)&&(m.get=function(){return C(this,i,n)});try{return Object.defineProperty(e,i,m),!0}catch{return r.delete(i+""),!1}}let c=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(f);return t===void 0||Array.isArray(t)?c:c[0]}function Me(e,t,n={}){e=oe(e);let r=y(e,"accessorizedProps");function o(c){return r.has(c+"")?r.get(c+"").restore():!0}let s=(Array.isArray(t)?t:t===void 0?Object.keys(e):[t]).map(o);return t===void 0||Array.isArray(t)?s:s[0]}function Ve(e,t={}){e=oe(e);let n=new Proxy(e,{apply:(r,o,f)=>me(r,o,f,t),construct:(r,o,f=null)=>ae(r,o,f,t),defineProperty:(r,o,f)=>le(r,o,f,t),deleteProperty:(r,o)=>Q(r,o,t),get:(r,o,f=null)=>{let s=C(r,o,{...t,receiver:f});return t.proxyAutoBinding!==!1&&P(s)&&!Z(s)?function(...c){let i=this||n;return ce(i,()=>s.call(i,...c))}:s},getOwnPropertyDescriptor:(r,o)=>fe(r,o,t),getPrototypeOf:r=>se(r,t),has:(r,o)=>J(r,o,t),isExtensible:r=>ue(r,t),ownKeys:r=>G(r,t),preventExtensions:r=>de(r,t),set:(r,o,f,s=null)=>L(r,o,f,{...t,receiver:s}),setPrototypeOf:(r,o)=>pe(r,o,t)});return y(n).set(n,e),n}function H(e){return y(e).get(e)||e}function oe(e){if(!e||!b(e))throw new Error("Target must be of type object!");return H(e)}function We(e,t,n,r=f=>f,o={}){if(t.length)return function f(s,c,i){let u=c[i.level],a=i.level===c.length-1;return s instanceof v&&s.type!=="get"?i={...i,probe:"always"}:i.probe!=="always"&&(i={...i,probe:!a}),n(s,u,(m,...d)=>{let h=l=>{l instanceof v&&(l.path=[l.key],s instanceof v&&(l.path=s.path.concat(l.key),Object.defineProperty(l,"context",{get:()=>s,configurable:!0})))},O=l=>{let p=S(l,!1);return B(p,g=>{l instanceof v?l.value=g:l=g;let _=d[0]||{};return f(l,c,{...i,..._,level:i.level+1})})};return X(u)&&Array.isArray(m)?(m.forEach(h),a?r(m,...d):m.map(O)):(h(m),a?r(m,...d):O(m))},i)}(e,t.slice(0),{...o,level:0})}function ke(e,t,n,r={}){if(e=S(e,!r.level),P(arguments[1])&&([,n,r={}]=arguments,t=1/0),!P(n))throw new Error(`Handler must be a function; "${D(n)}" given!`);if(r={...r,descripted:!0},delete r.live,!b(e))return r.probe&&C(e,t,n,r);let o=ve(e,t,n,r);return r.probe?C(e,t,o,r):o()}function Ke(e,t,n={}){return e=S(e),x(t)||([,,,n={}]=arguments,t={[arguments[1]]:arguments[2]}),E.getInstance(e,!0,n.namespace).addRegistration({traps:t,params:n})}function fe(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptor",{key:t},n,r)}function He(e,t,n=o=>o,r={}){return A(e,"getOwnPropertyDescriptors",{key:t},n,r)}function se(e,t=r=>r,n={}){return A(e,"getPrototypeOf",{},t,n)}function ue(e,t=r=>r,n={}){return A(e,"isExtensible",{},t,n)}function G(e,t=r=>r,n={}){return A(e,"ownKeys",{},t,n)}function J(e,t,n=o=>o,r={}){return A(e,"has",{key:t},n,r)}function C(e,t,n=o=>o,r={}){let o;return e=S(e,!r.level),x(n)?[r,n]=[n,f=>f]:r.live&&(o=!0),Qe(e,t,f=>{let s=[...f];return function c(i,u,a){if(!u.length)return a(i);let m=u.shift();function d(l,p=void 0){let g=j=>(l.value=j,c([...i,r.live||r.descripted?l:j],u,a));if(arguments.length>1)return g(p);let _=y(e,"accessorizedProps",!1),T=_&&_.get(l.key+"");return T&&T.intact()?g(T.getValue()):g(Reflect.get(e,l.key,...r.receiver?[r.receiver]:[]))}let h=new v(e,{type:"get",key:m,value:void 0,related:s});if(!b(e))return c([...i,r.live||r.descripted?h:void 0],u,a);let O=E.getInstance(e,!1,r.namespace);return O?O.emit(h,d):d(h)}([],f.slice(0),c=>{let i=X(t)?c:c[0];return o&&b(e)?ve(e,t,n,r)(i):n(i)})},r)}function ce(e,t,n={}){return e=S(e),q.getInstance(e,!0,n.namespace).batch(t)}function L(e,t,n,r=s=>s,o={},f=!1){e=S(e);let s=[[t,n]];x(t)&&([,,r=i=>i,o={},f=!1]=arguments,s=Object.entries(t)),x(r)&&([f,o,r]=[typeof o=="boolean"?o:!1,r,i=>i]);let c=s.map(([i])=>i);return function i(u,a,m){if(!a.length)return m(u);let[d,h]=a.shift();function O(p,g=void 0){let _=Pe=>(p.status=Pe,i(u.concat(p),a,m));if(arguments.length>1)return _(p,g);let T=y(e,"accessorizedProps",!1),j=T&&T.get(p.key+"");return p.type==="defineProperty"?(j&&!j.restore()&&_(!1),Object.defineProperty(e,p.key,p.value),_(!0)):j&&j.intact()?_(j.setValue(p.value)):_(Reflect.set(e,p.key,p.value))}function l(p,g){if(o.diff&&h===g)return i(u,a,m);let _=new v(e,{type:f?"defineProperty":"set",key:d,value:h,isUpdate:p,oldValue:g,related:[...c],detail:o.detail}),T=E.getInstance(e,!1,o.namespace);return T?T.emit(_,O):O(_)}return J(e,d,p=>p?C(e,d,g=>l(p,g),o):l(p),o)}([],s.slice(0),i=>{let u=q.getInstance(e,!1,o.namespace);return u&&u.emit(i),r(X(t)?i.map(a=>a.status):i[0]?.status)})}function le(e,t,n,r=f=>f,o={}){return L(e,t,n,r,o,!0)}function Ge(e,t,n=o=>o,r={}){return L(e,t,n,r,!0)}function Q(e,t,n=o=>o,r={}){e=S(e),x(n)&&([r,n]=[n,s=>s]);let o=I(t,!1),f=[...o];return function s(c,i,u){if(!i.length)return u(c);let a=i.shift();function m(h,O=void 0){let l=_=>(h.status=_,s(c.concat(h),i,u));if(arguments.length>1)return l(h,O);let p=y(e,"accessorizedProps",!1),g=p&&p.get(h.key+"");return g&&!g.restore()&&l(!1),l(Reflect.deleteProperty(e,h.key))}function d(h){let O=new v(e,{type:"deleteProperty",key:a,oldValue:h,related:[...f],detail:r.detail}),l=E.getInstance(e,!1,r.namespace);return l?l.emit(O,m):m(O)}return C(e,a,d,r)}([],o.slice(0),s=>{let c=q.getInstance(e,!1,r.namespace);return c&&c.emit(s),n(X(t)?s.map(i=>i.status):s[0].status)})}function Je(e,t,n=o=>o,r={}){return Q(...arguments)}function ae(e,t,n=null,r=f=>f,o={}){return A(e,"construct",arguments.length>2?{argumentsList:t,newTarget:n}:{argumentsList:t},r,o)}function me(e,t,n,r=f=>f,o={}){return A(e,"apply",{thisArgument:t,argumentsList:n},r,o)}function pe(e,t,n=o=>o,r={}){return A(e,"setPrototypeOf",{proto:t},n,r)}function de(e,t=r=>r,n={}){return A(e,"preventExtensions",{},t,n)}function ve(e,t,n,r={}){let o;r.signal||(o=new AbortController,r={...r,signal:o.signal});let f=q.getInstance(e,!0,r.namespace);return function s(c,i=null){i?.remove();let a={signal:f.addRegistration(t,s,r).signal};if(arguments.length){let m=n(c,a);if(arguments.length>1)return m}return o}}function A(e,t,n={},r=f=>f,o={}){e=S(e),x(r)&&([o,r]=[r,i=>i]);function f(i,u){return arguments.length>1?r(u):r(Reflect[t](e,...Object.values(n)))}let s=new v(e,{type:t,...n}),c=E.getInstance(e,!1,o.namespace);return c?c.emit(s,f):f(s)}function X(e){return e===1/0||Array.isArray(e)}function S(e,t=!0){if((!e||!b(e))&&t)throw new Error(`Object must be of type object or array! "${D(e)}" given.`);return e instanceof v&&(e=e.value),e&&H(e)}function Qe(e,t,n,r={}){return t===1/0?r.level&&!b(e)?n([]):G(e,n,r):n(I(t,!1))}var Xe={...he,...ie},we=Xe;self.webqit||(self.webqit={});self.webqit.Observer=we;})();
//# sourceMappingURL=main.js.map
