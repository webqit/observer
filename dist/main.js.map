{
  "version": 3,
  "sources": ["../src/main.js", "../node_modules/@webqit/util/js/isObject.js", "../node_modules/@webqit/util/js/getType.js", "../node_modules/@webqit/util/js/internals.js", "../node_modules/@webqit/util/js/isArray.js", "../node_modules/@webqit/util/js/isTypeFunction.js", "../node_modules/@webqit/util/js/isClass.js", "../node_modules/@webqit/util/js/isNull.js", "../node_modules/@webqit/util/js/isUndefined.js", "../node_modules/@webqit/util/js/isTypeObject.js", "../node_modules/@webqit/util/js/isEmpty.js", "../node_modules/@webqit/util/js/isFunction.js", "../node_modules/@webqit/util/js/isString.js", "../node_modules/@webqit/util/js/isTypeArray.js", "../node_modules/@webqit/util/arr/from.js", "../src/core/Registration.js", "../src/core/ListenerRegistration.js", "../src/core/Registry.js", "../src/core/ListenerRegistry.js", "../src/core/TrapsRegistration.js", "../src/core/TrapsRegistry.js", "../src/core/Descriptor.js", "../src/actors.js", "../src/index.js", "../src/targets.browser.js"],
  "sourcesContent": ["\r\n/**\r\n * @imports\r\n */\r\nimport { _internals, _isObject, _isTypeObject, _isFunction, _getType } from '@webqit/util/js/index.js';\r\nimport { _from as _arrFrom } from '@webqit/util/arr/index.js';\r\nimport ListenerRegistry from './core/ListenerRegistry.js';\r\nimport TrapsRegistry from './core/TrapsRegistry.js';\r\nimport Descriptor from './core/Descriptor.js';\r\nimport { unproxy } from './actors.js';\r\n\r\n/* ---------------SPECIAL APIs--------------- */\r\n\r\n/**\r\n * Reduces a path array against handler.\r\n * \r\n * @param Array|Object\t    target\r\n * @param Array\t            path\r\n * @param Function\t        receiver\r\n * @param Function\t        final\r\n * @param Object\t        params\r\n * \r\n * @example deep( object, [ segement1, segement2 ], observe, ( value, flags ) => {}, params );\r\n *\r\n * @return Any\r\n */\r\nexport function deep( target, path, receiver, final = x => x, params = {} ) {\r\n    return ( function eat( target, path, _params ) {\r\n        const segment = path[ _params.level ];\r\n        // ---------------\r\n        if ( _params.level < path.length - 1 ) { _params = { ..._params, preflight: true }; }\r\n        else { _params = { ..._params, preflight: /*reset*/params.preflight }; }\r\n        // ---------------\r\n        return receiver( target, segment, ( result, ...args ) => {\r\n            // -----------\r\n            const paramsNext = ( flags = {} ) => ( { ..._params, ...flags, level: _params.level + 1, } );\r\n            const addTrail = desc => {\r\n                if ( !( desc instanceof Descriptor ) ) return;\r\n                desc.path = [ desc.key ];\r\n                if ( target instanceof Descriptor ) {\r\n                    desc.path = target.path.concat( desc.key );\r\n                    desc.context = target;\r\n                }\r\n            };\r\n            // -----------\r\n            if ( isPropsList( segment ) && Array.isArray( result ) ) {\r\n                // -----------\r\n                result.forEach( addTrail );\r\n                if ( _params.level === path.length - 1 || ( !result.length && _params.midwayResults ) ) return final( result, ...args );\r\n                return result.map( entry => eat( entry, path, paramsNext( ...args ) ) )\r\n                // -----------\r\n            }\r\n            // -----------\r\n            addTrail( result );\r\n            const $isTypeObject = _isTypeObject( resolveObj( result, false ) );\r\n            if ( _params.level === path.length - 1 || ( !$isTypeObject && _params.midwayResults ) ) return final( result, ...args );\r\n            return $isTypeObject && eat( result, path, paramsNext( ...args ) );\r\n            // -----------\r\n        }, _params );\r\n    } )( target, path.slice( 0 ), { ...params, level: 0 } );\r\n}\r\n\r\n/**\r\n * Adds an observer to a target's registry.\r\n *\r\n * @param Array|Object\t    target\r\n * @param String|Object\t    prop\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return AbortController\r\n */\r\nexport function observe( target, prop, receiver, params = {} ) {\r\n    // ---------------\r\n    target = resolveObj( target );\r\n\tif ( _isFunction( arguments[ 1 ] ) ) {\r\n        [ , receiver, params = {} ] = arguments;\r\n        prop = Infinity;\r\n\t}\r\n\tif ( !_isFunction( receiver ) ) throw new Error( `Handler must be a function; \"${ _getType( receiver ) }\" given!` );\r\n    // ---------------\r\n    const emit = bind( target, prop, receiver, params );\r\n    if ( params.preflight ) {\r\n        params = { ...params, descripted: true };\r\n        delete params.live;\r\n        return get( target, prop, emit, params );\r\n    }\r\n    return emit();\r\n}\r\n\r\n/**\r\n * Adds an interceptor object to a target's registry.\r\n *\r\n * @param Array|Object\t    target\r\n * @param Object\t        traps\r\n * @param Object\t\t    params\r\n *\r\n * @return AbortRegistry\r\n */\r\nexport function intercept( target, traps, params = {} ) {\r\n    // ---------------\r\n    target = resolveObj( target );\r\n    if ( !_isObject( traps ) ) {\r\n        [ /*target*/, /*type*/, /*handler*/, params = {} ] = arguments;\r\n        traps = { [ arguments[ 1 ] ]: arguments[ 2 ] };\r\n    }\r\n    // ---------------\r\n    return TrapsRegistry.getInstance( target, true, params.namespace ).addRegistration( { traps, params } );\r\n}\r\n\r\n/* ---------------QUERY APIs--------------- */\r\n\r\n/**\r\n * Performs a \"getOwnPropertyDescriptor\" operation.\r\n *\r\n * @param Array|Object\t    target\r\n * @param String|Number\t    prop\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function getOwnPropertyDescriptor( target, prop, receiver = x => x, params = {} ) {\r\n    return exec( target, 'getOwnPropertyDescriptor', { key: prop }, receiver, params );\r\n}\r\n\r\n/**\r\n * Performs a \"getOwnPropertyDescriptors\" operation.\r\n * @note this isn't part of the standard Reflect API.\r\n *\r\n * @param Array|Object\t    target\r\n * @param String|Number\t    prop\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function getOwnPropertyDescriptors( target, prop, receiver = x => x, params = {} ) {\r\n    return exec( target, 'getOwnPropertyDescriptors', { key: prop }, receiver, params );\r\n}\r\n\r\n/**\r\n * Performs a \"getPrototypeOf\" operation.\r\n *\r\n * @param Array|Object\t    target\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function getPrototypeOf( target, receiver = x => x, params = {} ) {\r\n    return exec( target, 'getPrototypeOf', {}, receiver, params );\r\n}\r\n\r\n/**\r\n * Performs a \"isExtensible\" operation.\r\n *\r\n * @param Array|Object\t    target\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function isExtensible( target, receiver = x => x, params = {} ) {\r\n    return exec( target, 'isExtensible', {}, receiver, params );\r\n}\r\n\r\n/**\r\n * Performs a \"ownKeys\" operation.\r\n *\r\n * @param Array|Object\t    target\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function ownKeys( target, receiver = x => x, params = {} ) {\r\n    return exec( target, 'ownKeys', {}, receiver, params );\r\n}\r\n\r\n/**\r\n * Performs an operation of the given \"type\".\r\n *\r\n * @param Array|Object\t    target\r\n * @param String|Number\t    prop\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function has( target, prop, receiver = x => x, params = {} ) {\r\n    return exec( target, 'has', { key: prop }, receiver, params );\r\n}\r\n\r\n/**\r\n * Performs a get operation.\r\n *\r\n * @param Array|Object\t    target\r\n * @param String|Number\t    prop\r\n * @param Function\t        receiver\r\n * @param Object\t        params\r\n *\r\n * @return Any\r\n */\r\nexport function get( target, prop, receiver = x => x, params = {} ) {\r\n    // ---------------\r\n    let isLive;\r\n    target = resolveObj( target );\r\n    if ( _isObject( receiver ) ) { [ params, receiver ] = [ receiver, x => x ]; }\r\n    else if ( params.live ) { isLive = true; }\r\n    // ---------------\r\n    return resolveProps( target, prop, props => {\r\n        const related = [ ...props ];\r\n        return ( function next( results, _props, _done ) {\r\n            if ( !_props.length ) return _done( results );\r\n            const prop = _props.shift();\r\n            // ---------\r\n            function defaultGet( descriptor, value = undefined ) {\r\n                const _next = value => ( descriptor.value = value, next( results.concat( params.live || params.descripted ? descriptor : value ), _props, _done ) );\r\n                if ( arguments.length > 1 ) return _next( value );\r\n                const accessorizedProps = _internals( target, 'accessorizedProps', false );\r\n                const accessorization = accessorizedProps && accessorizedProps.get( descriptor.key );\r\n                if ( accessorization && accessorization.intact() ) {\r\n                    return _next( accessorization.getValue() );\r\n                }\r\n                return _next( Reflect.get( target, descriptor.key, ...( params.receiver ? [ params.receiver ] : [] ) ) );\r\n            }\r\n            // ---------\r\n            const descriptor = new Descriptor( target, {\r\n                type: 'get',\r\n                key: prop,\r\n                value: undefined,\r\n                related,\r\n            } );\r\n            const listenerRegistry = TrapsRegistry.getInstance( target, false, params.namespace );\r\n            if ( listenerRegistry ) {\r\n                return listenerRegistry.emit( descriptor, defaultGet );\r\n            }\r\n            return defaultGet( descriptor );\r\n        } )( [], props.slice( 0 ), results => {\r\n            const result_s = isPropsList( prop/*original*/ ) ? results : results[ 0 ];\r\n            if ( isLive ) {\r\n                const emit = bind( target, prop, receiver, params );\r\n                return emit( result_s );\r\n            }\r\n            return receiver( result_s );\r\n        } );\r\n    } );\r\n}\r\n\r\n/* ---------------MUTATION APIs--------------- */\r\n\r\n/**\r\n * Performs a batch operation.\r\n * \r\n * @param Object\t        target\r\n * @param Function\t        callback\r\n * @param Object\t        params\r\n *\r\n * @return Void\r\n */\r\nexport function batch( target, callback, params = {} ) {\r\n    return ListenerRegistry.getInstance( target, true, params.namespace ).batch( callback );\r\n}\r\n\r\n/**\r\n * Performs a set operation.\r\n * \r\n * @param Object\t        target\r\n * @param String|Number\t    prop\r\n * @param Any\t            value\r\n * @param Function\t        receiver\r\n * @param Object\t        params\r\n * @param Bool\t            def\r\n *\r\n * @return Any\r\n */\r\nexport function set( target, prop, value, receiver = x => x, params = {}, def = false ) {\r\n    // ---------------\r\n    target = resolveObj( target );\r\n    let entries = [ [ prop, value ] ];\r\n    if ( _isObject( prop ) ) {\r\n        [ /*target*/, /*hash*/, receiver = x => x, params = {}, def = false ] = arguments;\r\n        entries = Object.entries( prop );\r\n    }\r\n    if ( _isObject( receiver ) ) { [ def, params, receiver ] = [ typeof params === 'boolean' ? params : false, receiver, x => x ]; }\r\n    // ---------------\r\n    const related = entries.map( ( [ prop ] ) => prop );\r\n    return ( function next( descriptors, entries, _done ) {\r\n        if ( !entries.length ) return _done( descriptors );\r\n        const [ prop, value ] = entries.shift();\r\n        // ---------\r\n        function defaultSet( descriptor, status = undefined ) {\r\n            const _next = status => ( descriptor.status = status, next( descriptors.concat( descriptor ), entries, _done ) );\r\n            if ( arguments.length > 1 ) return _next( descriptor, status );\r\n            const accessorizedProps = _internals( target, 'accessorizedProps', false );\r\n            const accessorization = accessorizedProps && accessorizedProps.get( descriptor.key );\r\n            if ( descriptor.type === 'defineProperty' ) {\r\n                if ( accessorization && !accessorization.restore() ) _next( false );\r\n                Object.defineProperty( target, descriptor.key, descriptor.value );\r\n                return _next( true );\r\n            }\r\n            if ( accessorization && accessorization.intact() ) {\r\n                return _next( accessorization.setValue( descriptor.value ) );\r\n            }\r\n            return _next( Reflect.set( target, descriptor.key, descriptor.value ) );\r\n        }\r\n        // ---------\r\n        function exec( isUpdate, oldValue ) {\r\n            const descriptor = new Descriptor( target, {\r\n                type: def ? 'defineProperty' : 'set',\r\n                key: prop,\r\n                value,\r\n                isUpdate,\r\n                oldValue,\r\n                related: [ ...related ],\r\n                detail: params.detail,\r\n            } );\r\n            const listenerRegistry = TrapsRegistry.getInstance( target, false, params.namespace );\r\n            return listenerRegistry \r\n                ? listenerRegistry.emit( descriptor, defaultSet ) \r\n                : defaultSet( descriptor );\r\n        }\r\n        // ---------\r\n        return has( target, prop, isUpdate => {\r\n            if ( !isUpdate || params.oldValue !== true ) return exec( isUpdate );\r\n            return get( target, prop, oldValue => exec( isUpdate, oldValue ), params );\r\n        }, params );\r\n        // ---------\r\n    } )( [], entries.slice( 0 ), descriptors => {\r\n        const listenerRegistry = ListenerRegistry.getInstance( target, false, params.namespace );\r\n        if ( listenerRegistry ) listenerRegistry.emit( descriptors );\r\n        return receiver(\r\n            isPropsList( prop/*original*/ ) ? descriptors.map( opr => opr.status ) : descriptors[ 0 ].status\r\n        );\r\n    } );\r\n}\r\n\r\n/**\r\n * Performs a defineProperty operation.\r\n * \r\n * @param Object\t        target\r\n * @param String|Number\t    prop\r\n * @param Object\t        descriptor\r\n * @param Function\t        receiver\r\n * @param Object\t        params\r\n *\r\n * @return Any\r\n */\r\nexport function defineProperty( target, prop, descriptor, receiver = x => x, params = {} ) {\r\n    return set( target, prop, descriptor, receiver, params, true/*def*/ );\r\n}\r\n\r\n/**\r\n * Performs a defineProperties operation.\r\n * @note this isn't part of the standard Reflect API.\r\n * \r\n * @param Object\t        target\r\n * @param Object\t        descriptors\r\n * @param Function\t        receiver\r\n * @param Object\t        params\r\n *\r\n * @return Any\r\n */\r\nexport function defineProperties( target, descriptors, receiver = x => x, params = {} ) {\r\n    return set( target, descriptors, receiver, params, true/*def*/ );\r\n}\r\n\r\n/**\r\n * Performs a delete operation.\r\n * \r\n * @param Object\t        target\r\n * @param String|Number\t    prop\r\n * @param Function\t        receiver\r\n * @param Object\t        params\r\n *\r\n * @return Any\r\n */\r\nexport function deleteProperty( target, prop, receiver = x => x, params = {} ) {\r\n    // ---------------\r\n    target = resolveObj( target );\r\n    if ( _isObject( receiver ) ) { [ params, receiver ] = [ receiver, x => x ]; }\r\n    // ---------------\r\n    const props = _arrFrom( prop ), related = [ ...props ];\r\n    return ( function next( descriptors, props, _done ) {\r\n        if ( !props.length ) return _done( descriptors );\r\n        const prop = props.shift();\r\n        // ---------\r\n        function defaultDel( descriptor, status = undefined ) {\r\n            const _next = status => ( descriptor.status = status, next( descriptors.concat( descriptor ), props, _done ) );\r\n            if ( arguments.length > 1 ) return _next( descriptor, status );\r\n            const accessorizedProps = _internals( target, 'accessorizedProps', false );\r\n            const accessorization = accessorizedProps && accessorizedProps.get( descriptor.key );\r\n            if ( accessorization && !accessorization.restore() ) _next( false );\r\n            return _next( Reflect.deleteProperty( target, descriptor.key ) );\r\n        }\r\n        // ---------\r\n        function exec( oldValue ) {\r\n            const descriptor = new Descriptor( target, {\r\n                type: 'deleteProperty',\r\n                key: prop,\r\n                oldValue,\r\n                related: [ ...related ],\r\n                detail: params.detail,\r\n            } );\r\n            const listenerRegistry = TrapsRegistry.getInstance( target, false, params.namespace );\r\n            return listenerRegistry \r\n                ? listenerRegistry.emit( descriptor, defaultDel ) \r\n                : defaultDel( descriptor );\r\n        }\r\n        // ---------\r\n        if ( params.oldValue === false ) return exec();\r\n        return get( target, prop, exec, params );\r\n        // ---------\r\n    } )( [], props.slice( 0 ), descriptors => {\r\n        const listenerRegistry = ListenerRegistry.getInstance( target, false, params.namespace );\r\n        if ( listenerRegistry ) listenerRegistry.emit( descriptors );\r\n        return receiver(\r\n            isPropsList( prop/*original*/ ) ? descriptors.map( opr => opr.status ) : descriptors[ 0 ].status\r\n        );\r\n    } );\r\n}\r\n\r\n/* ---------------EFFECT APIs--------------- */\r\n\r\n/**\r\n * Performs a \"construct\" operation.\r\n *\r\n * @param Array|Object\t    target\r\n * @param Array\t\t\t    argumentsList\r\n * @param Object\t\t    newTarget\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function construct( target, argumentsList, newTarget = null, receiver = x => x, params = {} ) {\r\n    return exec( target, 'construct', arguments.length > 2 ? { argumentsList, newTarget } : { argumentsList }, receiver, params );\r\n}\r\n\r\n/**\r\n * Performs an \"apply\" operation.\r\n *\r\n * @param Array|Object\t    target\r\n * @param Any\t            thisArgument\r\n * @param Array\t            argumentsList\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function apply( target, thisArgument, argumentsList, receiver = x => x, params = {} ) {\r\n    return exec( target, 'apply', { thisArgument, argumentsList }, receiver, params );\r\n}\r\n\r\n/**\r\n * Performs a \"setPrototypeOf\" operation.\r\n *\r\n * @param Array|Object\t    target\r\n * @param Anyr\t            proto\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function setPrototypeOf( target, proto, receiver = x => x, params = {} ) {\r\n    return exec( target, 'setPrototypeOf', { proto }, receiver, params );\r\n}\r\n\r\n/**\r\n * Performs a \"preventExtension\" operation.\r\n *\r\n * @param Array|Object\t    target\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nexport function preventExtensions( target, receiver = x => x, params = {} ) {\r\n    return exec( target, 'preventExtensions', {}, receiver, params );\r\n}\r\n\r\n/* ---------------HELPER APIs--------------- */\r\n\r\n/**\r\n * Adds an observer to a target's registry.\r\n *\r\n * @param Array|Object\t    target\r\n * @param String|Object\t    prop\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Function: AbortController\r\n */\r\nfunction bind( target, prop, receiver, params = {} ) {\r\n    let controller;\r\n    if ( !params.signal ) {\r\n        controller = new AbortController;\r\n        params = { ...params, signal: controller.signal };\r\n    }\r\n    const listenerRegistry = ListenerRegistry.getInstance( target, true, params.namespace );\r\n    return function emit( descriptor_s, prevRegistration = null ) {\r\n        prevRegistration?.remove();\r\n        const registrationNext = listenerRegistry.addRegistration( prop, emit, params );\r\n        const flags = { signal: registrationNext.signal, };\r\n        if ( arguments.length ) {\r\n            receiver( descriptor_s, flags );\r\n        }\r\n        return controller;\r\n    };\r\n}\r\n\r\n/**\r\n * Performs an operation of the given \"type\".\r\n *\r\n * @param Array|Object\t    target\r\n * @param String\t\t    type\r\n * @param Object\t\t    payload\r\n * @param Function\t        receiver\r\n * @param Object\t\t    params\r\n *\r\n * @return Any\r\n */\r\nfunction exec( target, type, payload = {}, receiver = x => x, params = {} ) {\r\n    // ---------\r\n    target = resolveObj( target );\r\n    if ( _isObject( receiver ) ) { [ params, receiver ] = [ receiver, x => x ]; }    \r\n    // ---------\r\n    function defaultExec( descriptor, result ) {\r\n        if ( arguments.length > 1 ) return receiver( result );\r\n        return receiver( Reflect[ type ]( target, ...Object.values( payload ) ) );\r\n    }\r\n    // ---------\r\n    const descriptor = new Descriptor( target, { type, ...payload } );\r\n    const listenerRegistry = TrapsRegistry.getInstance( target, false, params.namespace );\r\n    if ( listenerRegistry ) {\r\n        return listenerRegistry.emit( descriptor, defaultExec );\r\n    }\r\n    return defaultExec( descriptor );\r\n}\r\n\r\n// Asks if prop is a multi-result field\r\nfunction isPropsList( prop ) {\r\n    return prop === Infinity || Array.isArray( prop );\r\n}\r\n\r\n// Resolves obj down to it's self\r\nfunction resolveObj( obj, assert = true ) {\r\n\tif ( ( !obj || !_isTypeObject( obj ) ) && assert ) throw new Error( `Object must be of type object or array! \"${ _getType( obj ) }\" given.` );\r\n    if ( obj instanceof Descriptor ) {\r\n        obj = obj.value;\r\n    }\r\n\treturn obj && unproxy( obj );\r\n}\r\n\r\n// Resolves prop down to actual keys\r\nfunction resolveProps( obj, prop, receiver ) {\r\n    if ( prop === Infinity )  return ownKeys( obj, receiver );\r\n    return receiver( _arrFrom( prop ) );\r\n}\r\n", "\n/**\n * Tells if val is pure object.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn !Array.isArray(val) && typeof val === 'object' && val;\n};\n", "\n/**\n * Returns the val's type.\n *\n * @param string \tval\n *\n * @return string\n */\nexport default function(val) {\n\treturn typeof val;\n};\n", "\n/**\n * Creates and/or returns an \"internals\" object for the given object.\n * \n * @param Any obj\n * @param String namespace\n * \n * @return Object\n */\nexport default function internals(obj, ...namespaces) {\n    if (!globalThis.WebQitInternalsRegistry) {\n        globalThis.WebQitInternalsRegistry = new Map;\n    }\n    var itnls = globalThis.WebQitInternalsRegistry.get(obj);\n    if (!itnls) {\n        itnls = new Map;\n        if (namespaces[0] === false) {\n            // FALSE means: Return orphan Map if not exists\n            return itnls;\n        }\n        globalThis.WebQitInternalsRegistry.set(obj, itnls);\n    }\n    var _ns, _itnls;\n    while ((_ns = namespaces.shift())) {\n        if ((_itnls = itnls) && !(itnls = itnls.get(_ns))) {\n            itnls = new Map;\n            if (namespaces[0] === false) {\n                // FALSE means: Return orphan Map if not exists\n                return itnls;\n            }\n            _itnls.set(_ns, itnls);\n        }\n    }\n    return itnls;\n}", "\n/**\n * Tells if val is of type \"array\".\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn Array.isArray(val);\n};\n", "\n/**\n * Tells if val is of type \"function\".\n * This holds true for both regular functions and classes.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn typeof val === 'function';\n};\n", "\n/**\n * @imports\n */\nimport _isTypeFunction from './isTypeFunction.js';\n\n/**\n * Tells if val is of type \"class\".\n *\n * @param object \t\tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isTypeFunction(val) && /^class\\s?/.test(Function.prototype.toString.call(val));\n};\n", "\n/**\n * Tells if val is undefined or is null.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val === null || val === '';\n};\n", "\n/**\n * Tells if val is undefined or is of type \"undefined\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn arguments.length && (val === undefined || typeof val === 'undefined');\n};\n", "\n/**\n * @imports\n */\nimport _isTypeFunction from './isTypeFunction.js';\n\n/**\n * Tells if val is of type \"object\".\n * This holds true for anything object, including built-ins.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn Array.isArray(val) || (typeof val === 'object' && val) || _isTypeFunction(val);\n};\n", "\n/**\n * @imports\n */\nimport _isNull from './isNull.js';\nimport _isUndefined from './isUndefined.js';\nimport _isTypeObject from './isTypeObject.js';\n\n/**\n * Tells if val is empty in its own type.\n * This holds true for NULLs, UNDEFINED, FALSE, 0,\n * objects without keys, empty arrays.\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isNull(val) || _isUndefined(val) || val === false || val === 0 \n\t\t|| (_isTypeObject(val) && !Object.keys(val).length);\n};\n", "\n/**\n * @imports\n */\nimport _isTypeFunction from './isTypeFunction.js';\n\n/**\n * Tells if val is of type \"function\".\n *\n * @param object \t\tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn _isTypeFunction(val) || (val && {}.toString.call(val) === '[object function]');\n};\n", "\n/**\n * Tells if val is of type \"string\".\n *\n * @param string \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn val instanceof String || (typeof val === 'string' && val !== null);\n};\n", "\n/**\n * @imports\n */\nimport _isString from './isString.js';\nimport _isUndefined from './isUndefined.js';\n\n/**\n * Tells if val is \"array-like\".\n * This holds true for anything that has a length property.\n *\n * @param object\t \tval\n *\n * @return bool\n */\nexport default function(val) {\n\treturn !_isString(val) && !_isUndefined(val.length);\n};\n", "\n/**\n * @imports\n */\nimport _isArray from '../js/isArray.js';\nimport _isTypeArray from '../js/isTypeArray.js';\nimport _isEmpty from '../js/isEmpty.js';\nimport _isObject from '../js/isObject.js';\n\n/**\n * Casts an array-like object to an array.\n *\n * @param mixed \tval\n * @param bool\t \tcastObject\n *\n * @return array\n */\nexport default function(val, castObject = true) {\n\tif (_isArray(val)) {\n\t\treturn val;\n\t};\n\tif (!castObject && _isObject(val)) {\n\t\treturn [val];\n\t};\n\tif (val !== false && val !== 0 && _isEmpty(val)) {\n\t\treturn [];\n\t};\n\tif (_isTypeArray(val)) {\n\t\treturn Array.prototype.slice.call(val);\n\t};\n\tif (_isObject(val)) {\n\t\treturn Object.values(val);\n\t};\n\treturn [val];\n};\n", "\r\n/**\r\n * ---------------------------\r\n * The Registration class\r\n * ---------------------------\r\n */\r\n\r\nexport default class Registration {\r\n\t\r\n\t/**\r\n\t * Initializes the instance.\r\n\t *\r\n\t * @param Registry\t\t\tregistry\r\n\t * @param object\t\t\tdfn\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tconstructor( registry, dfn ) {\r\n\t\tthis.registry = registry;\r\n\t\tObject.assign( this, { ...dfn, target: registry.target } );\r\n\t\tif ( this.params.signal ) {\r\n\t\t\tthis.params.signal.addEventListener( 'abort', () => this.remove() );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Sets a \"disconnected\" flag on the Registration.\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tremove() {\r\n\t\tthis.removed = true;\r\n\t\treturn this.registry.removeRegistration( this );\r\n\t}\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport { _from as _arrFrom } from '@webqit/util/arr/index.js';\r\nimport Registration from './Registration.js';\r\n\r\n/**\r\n * ---------------------------\r\n * The ListenerRegistration class\r\n * ---------------------------\r\n */\r\n\r\nexport default class ListenerRegistration extends Registration {\r\n\t\r\n\t/**\r\n\t * @constructor\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper( ...arguments );\r\n\t\tObject.defineProperty( this, 'abortController', { value: new AbortController } );\r\n\t\tObject.defineProperty( this, 'signal', { value: this.abortController.signal } );\r\n\t}\r\n\r\n\t/**\r\n\t * De-registers the instance.\r\n\t * \r\n\t * @return Void\r\n\t */\r\n\tremove() {\r\n\t\tthis.abortController.abort();\r\n\t\tsuper.remove();\r\n\t}\r\n\r\n\t/**\r\n\t * Calls the observer's handler function\r\n\t * on matching with the event's fields.\r\n\t *\r\n\t * @param Array\t\t\t \t\tevents\r\n\t *\r\n\t * @return Any\r\n\t */\r\n\tfire( events ) {\r\n\t\tlet matches = events, filter = this.filter;\r\n\t\tif ( filter !== Infinity && ( filter = _arrFrom( filter ) ) ) {\r\n\t\t\tmatches = events.filter( event => filter.includes( event.key ) );\r\n\t\t}\r\n\t\tif ( matches.length ) {\r\n\t\t\treturn this.filter === Infinity || Array.isArray( this.filter )\r\n\t\t\t\t? this.handler( matches, this )\r\n\t\t\t\t: this.handler( matches[ 0 ], this );\r\n\t\t}\r\n\t}\r\n}\r\n", "\r\n/**\r\n * @imports\r\n */\r\nimport { _isTypeObject, _getType, _internals } from '@webqit/util/js/index.js';\r\nimport { _from as _arrFrom, _intersect, _equals as _arrEquals } from '@webqit/util/arr/index.js';\r\n\r\n/**\r\n * ---------------------------\r\n * The Registry class\r\n * ---------------------------\r\n */\r\n\r\nexport default class Registry {\r\n\t\r\n\t/**\r\n\t * Initializes the instance.\r\n\t *\r\n\t * @param object\ttarget\r\n\t * \r\n\t * @return void\r\n\t */\r\n\tconstructor( target ) {\r\n\t\tthis.target = target;\r\n\t\tthis.entries = [];\r\n\t}\r\n\t\r\n\t/**\r\n\t * Adds an Registration instance\r\n\t * with optional tags.\r\n\t *\r\n\t * @param Registration\t\tregistration\r\n\t *\r\n\t * @return Registration\r\n\t */\r\n\taddRegistration( registration ) {\r\n\t\tthis.entries.push( registration );\r\n\t\treturn registration;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Removes registrations by reference.\r\n\t *\r\n\t * @param Registration\t\tregistration\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tremoveRegistration( registration ) {\r\n\t\tthis.entries = this.entries.filter( _entry => _entry !== registration );\r\n\t}\r\n\t\t\r\n\t/**\r\n\t * Returns a observer-specific object embedded on an element.\r\n\t *\r\n\t * @param string\t\ttype\r\n\t * @param array|object\ttarget\r\n\t * @param bool      \tcreateIfNotExists\r\n\t * @param string      \tnamespace\r\n\t *\r\n\t * @return Registry\r\n\t */\r\n\tstatic _getInstance( type, target, createIfNotExists = true, namespace = this.__namespace ) {\r\n\t\tif ( !_isTypeObject( target ) ) throw new Error( `Subject must be of type object; \"${ _getType( target ) }\" given!` );\r\n\t\tlet ImplementationClass = this;\r\n\t\tif ( namespace && globalThis.WebQitObserverNamespaceRegistry.has( type + '-' + namespace ) ) {\r\n\t\t\tImplementationClass = globalThis.WebQitObserverNamespaceRegistry.get( type + '-' + namespace );\r\n\t\t\ttype += '-' + namespace\r\n\t\t}\r\n\t\tif ( !_internals( target, 'observerApi' ).has( type ) && createIfNotExists ) {\r\n\t\t\t_internals( target, 'observerApi' ).set( type, new ImplementationClass( target ) );\r\n\t\t}\r\n\t\treturn _internals( target, 'observerApi' ).get( type );\r\n\t}\r\n\r\n\t/**\r\n\t * Extend a Fireable Class with a namespace.\r\n\t *\r\n\t * @param string\t\tnamespace\r\n\t * @param class      \tImplementationClass\r\n\t *\r\n\t * @return void|class\r\n\t */\r\n\tstatic _namespace( type, namespace, ImplementationClass = null ) {\r\n\t\ttype += '-' + namespace;\r\n\t\tif ( arguments.length === 2 ) return globalThis.WebQitObserverNamespaceRegistry.get( type );\r\n\t\tif ( !( ImplementationClass.prototype instanceof this ) ) {\r\n\t\t\tthrow new Error( `The implementation of the namespace ${ this.name }.${ namespace } must be a subclass of ${ this.name }.` );\r\n\t\t}\r\n\t\tglobalThis.WebQitObserverNamespaceRegistry.set( type, ImplementationClass );\r\n\t\tImplementationClass.__namespace = namespace;\r\n\t}\r\n}\r\n\r\nif ( !globalThis.WebQitObserverNamespaceRegistry ) {\r\n\tglobalThis.WebQitObserverNamespaceRegistry = new Map;\r\n}\r\n", "\r\n/**\r\n * @imports\r\n */\r\nimport ListenerRegistration from './ListenerRegistration.js';\r\nimport Registry from './Registry.js';\r\n\r\n/**\r\n * ---------------------------\r\n * The ListenerRegistry class\r\n * ---------------------------\r\n */\r\n\r\nexport default class ListenerRegistry extends Registry {\r\n\r\n\tstatic getInstance( target, createIfNotExists = true, namespace = null ) {\r\n\t\treturn super._getInstance( 'listeners', ...arguments );\r\n\t}\r\n\r\n\tstatic namespace( namespace, ImplementationClass = null ) {\r\n\t\treturn super._namespace( 'listeners', ...arguments );\r\n\t}\r\n\r\n\t/**\r\n\t * @constructor\r\n\t */\r\n\tconstructor( target ) {\r\n\t\tsuper( target );\r\n\t\tthis.batches = [];\r\n\t}\r\n\t\r\n\t/**\r\n\t * @addRegistration\r\n\t */\r\n\taddRegistration( filter, handler, params ) {\r\n\t\treturn super.addRegistration( new ListenerRegistration( this, { filter, handler, params } ) );\r\n\t}\r\n\t\r\n\t/**\r\n\t * Fires all observers with the given evt (change).\r\n\t *\r\n\t * @param Arrayn events\r\n\t *\r\n\t * @return Void\r\n\t */\r\n\temit( events ) {\r\n\t\tif ( this.batches.length ) {\r\n\t\t\tthis.batches[ 0 ].events.push( ...events );\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.entries.forEach( listener => listener.fire( events ) );\r\n\t}\r\n\r\n\t/**\r\n\t * Fires all observers with the given evt (change).\r\n\t *\r\n\t * @param Arrayn events\r\n\t *\r\n\t * @return Void\r\n\t */\r\n\tbatch( callback ) {\r\n\t\tthis.batches.unshift( { entries: [ ...this.entries ], events: [] } );\r\n\t\tcallback();\r\n\t\tconst batch = this.batches.shift();\r\n\t\tif ( !batch.events.length ) return;\r\n\t\tbatch.entries.forEach( listener => listener.fire( batch.events ) );\r\n\t}\r\n\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport Registration from './Registration.js';\r\n\r\n/**\r\n * ---------------------------\r\n * The TrapsRegistration class\r\n * ---------------------------\r\n */\r\n\r\nexport default class TrapsRegistration extends Registration {\r\n\t\r\n\t/**\r\n\t * Calls the observer's handler function\r\n\t * on matching with the descriptor's fields.\r\n\t *\r\n\t * @param Descriptor\t\t\t \tdescriptor\r\n\t * @param function\t\t\t\t\tnext\r\n\t * @param mixed\t\t\t\t\t \trecieved\r\n\t *\r\n\t * @return void\r\n\t */\r\n\texec( descriptor, next, recieved ) {\r\n\t\tif ( this.running || !this.traps[ descriptor.type ] ) {\r\n\t\t\treturn next( ...Array.prototype.slice.call( arguments, 2 ) );\r\n\t\t}\r\n\t\tthis.running = true;\r\n\t\treturn this.traps[ descriptor.type ]( descriptor, recieved, ( ...args ) => {\r\n\t\t\tthis.running = false;\r\n\t\t\treturn next( ...args );\r\n\t\t} );\r\n\t}\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport TrapsRegistration from './TrapsRegistration.js';\r\nimport Registry from './Registry.js';\r\n\r\n/**\r\n * ---------------------------\r\n * The TrapsRegistry class\r\n * ---------------------------\r\n */\r\n\r\nexport default class TrapsRegistry extends Registry {\r\n\r\n\tstatic getInstance( target, createIfNotExists = true, namespace = null ) {\r\n\t\treturn super._getInstance( 'traps', ...arguments );\r\n\t}\r\n\r\n\tstatic namespace( namespace, ImplementationClass = null ) {\r\n\t\treturn super._namespace( 'traps', ...arguments );\r\n\t}\r\n\t\r\n\t/**\r\n\t * @inheritdoc\r\n\t */\r\n\taddRegistration( dfn ) {\r\n\t\treturn super.addRegistration( new TrapsRegistration( this, dfn ) );\r\n\t}\r\n\r\n\t/**\r\n\t * Fires all interceptors with the given action.\r\n\t *\r\n\t * @param Descriptor\t\tdescriptor\r\n\t * @param function\t\t\tdefaultHandler\r\n\t *\r\n\t * @return mixed\r\n\t */\r\n\temit( descriptor, defaultHandler = null ) {\r\n\t\tconst $this = this;\r\n\t\treturn ( function next( index, ..._args ) {\r\n\t\t\tconst registration = $this.entries[ index ];\r\n\t\t\tif ( registration ) {\r\n\t\t\t\treturn registration.exec( descriptor, ( ...args ) => {\r\n\t\t\t\t\treturn next( index + 1, ...args );\r\n\t\t\t\t}/*next*/, ..._args );\r\n\t\t\t}\r\n\t\t\treturn defaultHandler ? defaultHandler( descriptor, ..._args ) : _args[ 0 ];\r\n\t\t} )( 0 );\r\n\t}\r\n}", "\r\n/**\r\n * ---------------------------\r\n * The Descriptor class\r\n * ---------------------------\r\n */\r\n\r\nexport default class Descriptor {\r\n\t\r\n\t/**\r\n\t * Initializes the instance.\r\n\t *\r\n\t * @param array|object\ttarget\r\n\t * @param object\t\tdfn\r\n\t *\r\n\t * @return void\r\n\t */\r\n\tconstructor( target, dfn ) {\r\n\t\tthis.target = target;\r\n\t\tif ( !( dfn.type ) ) throw new Error( 'Descriptor type must be given in definition!' );\r\n\t\tObject.assign( this, dfn );\r\n\t}\r\n}", "\r\n/**\r\n * @imports\r\n */\r\nimport { _from as _arrFrom } from '@webqit/util/arr/index.js';\r\nimport { _isClass, _isFunction, _isTypeObject, _getType, _internals } from '@webqit/util/js/index.js';\r\nimport { set, deleteProperty, has, get, ownKeys, defineProperty, getOwnPropertyDescriptor } from \"./main.js\";\r\nimport { apply, construct, getPrototypeOf, setPrototypeOf, isExtensible, preventExtensions } from \"./main.js\";\r\n\r\n/* ---------------ACCESSORIZE METHODS--------------- */\r\n\r\n/**\r\n * Accessorizes props.\r\n *\r\n * @param Array|Object\ttarget\r\n * @param String|Array\tprops\r\n * @param Object\t\tparams\r\n *\r\n * @return Array\r\n */\r\nexport function accessorize( target, props, params = {} ) {\r\n    target = resolveTarget( target );\r\n    const accessorizedProps = _internals( target, 'accessorizedProps' );\r\n    // ---------\r\n    function getDescriptorDeep( prop ) {\r\n        let descriptor, proto = target;\r\n        while ( !descriptor && ( proto = Object.getPrototypeOf( proto ) ) ) {\r\n            descriptor = Object.getOwnPropertyDescriptor( proto, prop );\r\n        }\r\n        return descriptor \r\n            ? { proto, descriptor } \r\n            : { descriptor: { value: undefined } };\r\n    }\r\n    // ---------\r\n    function accessorizeProp( prop ) {\r\n        if ( accessorizedProps.has( prop ) ) return true;\r\n        // ------------------\r\n        // Current Descriptor Record\r\n        const currentDescriptorRecord = getDescriptorDeep( prop );\r\n        currentDescriptorRecord.getValue = function() {\r\n            return 'get' in this.descriptor ? this.descriptor.get() : this.descriptor.value;\r\n        };\r\n        currentDescriptorRecord.setValue = function( value ) {\r\n            return 'set' in this.descriptor ? this.descriptor.set( value ) : ( this.descriptor.value = value )\r\n        };\r\n        currentDescriptorRecord.intact = function() {\r\n            const currentDescriptor = Object.getOwnPropertyDescriptor( target, prop );\r\n            return currentDescriptor.get === accessorization.get \r\n                && currentDescriptor.set === accessorization.set\r\n                && accessorizedProps.get( prop ) === this;\r\n        };\r\n        currentDescriptorRecord.restore = function() {\r\n            if ( !this.intact() ) return false;\r\n            if ( this.proto !== target ) { delete target[ prop ]; }\r\n            else { Object.defineProperty( target, prop, this.descriptor ); }\r\n            accessorizedProps.delete( prop );\r\n            return true;\r\n        };\r\n        accessorizedProps.set( prop, currentDescriptorRecord );\r\n        // ------------------\r\n        // enumerable, configurable\r\n        const { enumerable = true, configurable = true } = currentDescriptorRecord.descriptor;\r\n        const accessorization = { enumerable, configurable };\r\n        // set, get\r\n        if ( [ 'value', 'set' ].some( x => x in currentDescriptorRecord.descriptor ) ) {\r\n            accessorization.set = function ( value ) { return set( this, prop, value, params ); };\r\n        }\r\n        if ( [ 'value', 'get' ].some( x => x in currentDescriptorRecord.descriptor ) ) {\r\n            accessorization.get = function () { return get( this, prop, params ); };\r\n        }\r\n        try {\r\n            Object.defineProperty( target, prop, accessorization );\r\n            return true;\r\n        } catch( e ) {\r\n            accessorizedProps.delete( prop );\r\n            return false;\r\n        }\r\n    }\r\n    const _props = Array.isArray( props ) ? props : (\r\n        props === undefined ? Object.keys( target ) : [ props ]\r\n    );\r\n    const statuses = _props.map( accessorizeProp );\r\n    return props === undefined || Array.isArray( props ) \r\n        ? statuses \r\n        : statuses[ 0 ];\r\n}\r\n\r\n/**\r\n * Unaccessorizes previously accessorized props.\r\n *\r\n * @param Array|Object\ttarget\r\n * @param String|Array\tprops\r\n * @param Object\t\tparams\r\n *\r\n * @return Array\r\n */\r\nexport function unaccessorize( target, props, params = {} ) {\r\n    target = resolveTarget( target );\r\n    const accessorizedProps = _internals( target, 'accessorizedProps' );\r\n    function unaccessorizeProp( prop ) {\r\n        if ( !accessorizedProps.has( prop ) ) return true;\r\n        return accessorizedProps.get( prop ).restore();\r\n    }\r\n    const _props = Array.isArray( props ) ? props : (\r\n        props === undefined ? Object.keys( target ) : [ props ]\r\n    );\r\n    const statuses = _props.map( unaccessorizeProp );\r\n    return props === undefined || Array.isArray( props ) \r\n        ? statuses \r\n        : statuses[ 0 ];\r\n}\r\n\r\n/* ---------------PROXY METHODS--------------- */\r\n\r\n/**\r\n * Returns an object as a proxy and binds all instance methods\r\n * to the proxy instead of the object itself.\r\n *\r\n * @param Array|Object\t\ttarget\r\n * @param Object\t\t    params\r\n *\r\n * @return Proxy\r\n */\r\nexport function proxy( target, params = {} ) {\r\n    target = resolveTarget( target );\r\n    const proxy = new Proxy( target, {\r\n        apply:  ( target, thisArgument, argumentsList ) => apply( target, thisArgument, argumentsList, params ),\r\n        construct:  ( target, argumentsList, newTarget = null ) => construct( target, argumentsList, newTarget, params ),\r\n        defineProperty:  ( target, propertyKey, attributes ) => defineProperty( target, propertyKey, attributes, params ),\r\n        deleteProperty: ( target, propertyKey ) => deleteProperty( target, propertyKey, params ),\r\n        get: ( target, propertyKey, receiver = null ) => {\r\n            const val = get( target, propertyKey, { ...params, receiver } );\r\n            if ( params.proxyAutoBinding !== false && _isFunction( val ) && !_isClass( val )) {\r\n                return val.bind( proxy );\r\n            }\r\n            return val;\r\n        },\r\n        getOwnPropertyDescriptor: ( target, propertyKey ) => getOwnPropertyDescriptor( target, propertyKey, params ),\r\n        getPrototypeOf: target => getPrototypeOf( target, params ),\r\n        has: ( target, propertyKey ) => has( target, propertyKey, params ),\r\n        isExtensible: target => isExtensible( target, params ),\r\n        ownKeys: target => ownKeys( target, params ),\r\n        preventExtensions: target => preventExtensions( target, params ),\r\n        set: ( target, propertyKey, value, receiver = null ) => set( target, propertyKey, value, { ...params, receiver } ),\r\n        setPrototypeOf: ( target, prototype ) => setPrototypeOf( target, prototype, params ),\r\n    });\r\n    _internals( proxy ).set( proxy, target );\r\n\treturn proxy;\r\n}\r\n\r\n/**\r\n * Returns the original object earlier proxied by proxy().\r\n *\r\n * @param Proxy|Any\t\ttarget\r\n *\r\n * @return Any\r\n */\r\nexport function unproxy( target ) {\r\n    // Proxy targets are mapped to their own instances internally\r\n    return _internals( target, false ).get( target ) || target;\r\n}\r\n\r\n/* ---------------HELPERS--------------- */\r\n\r\n/** \r\n * Ensures target object is an object or array.\r\n *\r\n * @param Array|Object\ttarget\r\n *\r\n * @return Array|Object\r\n */\r\nfunction resolveTarget( target ) {\r\n\tif ( !target || !_isTypeObject( target ) ) throw new Error('Target must be of type object!');\r\n\treturn unproxy( target );\r\n}\r\n", "\r\n/**\r\n * @imports\r\n */\r\nimport * as main from './main.js';\r\nimport * as actors from './actors.js';\r\n\r\nconst Observer = { ...main, ...actors };\r\n\r\nexport default Observer;", "\r\n/**\r\n * @imports\r\n */\r\nimport Observer from './index.js';\r\n\r\n// As globals\r\nif ( !window.wq ) { window.wq = {}; }\r\nwindow.wq.Observer = Observer;"],
  "mappings": "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",
  "names": ["main_exports", "__export", "apply", "batch", "construct", "deep", "defineProperties", "defineProperty", "deleteProperty", "get", "getOwnPropertyDescriptor", "getOwnPropertyDescriptors", "getPrototypeOf", "has", "intercept", "isExtensible", "observe", "ownKeys", "preventExtensions", "set", "setPrototypeOf", "isObject_default", "val", "getType_default", "val", "internals", "obj", "namespaces", "itnls", "_ns", "_itnls", "isArray_default", "val", "isTypeFunction_default", "val", "isClass_default", "val", "isTypeFunction_default", "isNull_default", "val", "isUndefined_default", "val", "isTypeObject_default", "val", "isTypeFunction_default", "isEmpty_default", "val", "isNull_default", "isUndefined_default", "isTypeObject_default", "isFunction_default", "val", "isTypeFunction_default", "isString_default", "val", "isTypeArray_default", "val", "isString_default", "isUndefined_default", "from_default", "val", "castObject", "isArray_default", "isObject_default", "isEmpty_default", "isTypeArray_default", "Registration", "registry", "dfn", "ListenerRegistration", "Registration", "events", "matches", "filter", "from_default", "event", "Registry", "target", "registration", "_entry", "type", "createIfNotExists", "namespace", "isTypeObject_default", "getType_default", "ImplementationClass", "internals", "ListenerRegistry", "Registry", "target", "createIfNotExists", "namespace", "ImplementationClass", "filter", "handler", "params", "ListenerRegistration", "events", "listener", "callback", "batch", "TrapsRegistration", "Registration", "descriptor", "next", "recieved", "args", "TrapsRegistry", "Registry", "target", "createIfNotExists", "namespace", "ImplementationClass", "dfn", "TrapsRegistration", "descriptor", "defaultHandler", "$this", "next", "index", "_args", "registration", "args", "Descriptor", "target", "dfn", "actors_exports", "__export", "accessorize", "proxy", "unaccessorize", "unproxy", "accessorize", "target", "props", "params", "resolveTarget", "accessorizedProps", "internals", "getDescriptorDeep", "prop", "descriptor", "proto", "accessorizeProp", "currentDescriptorRecord", "value", "currentDescriptor", "accessorization", "enumerable", "configurable", "x", "set", "get", "statuses", "unaccessorize", "unaccessorizeProp", "proxy", "thisArgument", "argumentsList", "apply", "newTarget", "construct", "propertyKey", "attributes", "defineProperty", "deleteProperty", "receiver", "val", "isFunction_default", "isClass_default", "getOwnPropertyDescriptor", "getPrototypeOf", "has", "isExtensible", "ownKeys", "preventExtensions", "prototype", "setPrototypeOf", "unproxy", "isTypeObject_default", "deep", "target", "path", "receiver", "final", "x", "params", "eat", "_params", "segment", "result", "args", "paramsNext", "flags", "addTrail", "desc", "Descriptor", "isPropsList", "entry", "$isTypeObject", "isTypeObject_default", "resolveObj", "observe", "prop", "isFunction_default", "getType_default", "emit", "bind", "get", "intercept", "traps", "isObject_default", "TrapsRegistry", "getOwnPropertyDescriptor", "exec", "getOwnPropertyDescriptors", "getPrototypeOf", "isExtensible", "ownKeys", "has", "isLive", "resolveProps", "props", "related", "next", "results", "_props", "_done", "defaultGet", "descriptor", "value", "_next", "accessorizedProps", "internals", "accessorization", "listenerRegistry", "result_s", "batch", "callback", "ListenerRegistry", "set", "def", "entries", "descriptors", "defaultSet", "status", "isUpdate", "oldValue", "opr", "defineProperty", "defineProperties", "deleteProperty", "from_default", "defaultDel", "construct", "argumentsList", "newTarget", "apply", "thisArgument", "setPrototypeOf", "proto", "preventExtensions", "controller", "descriptor_s", "prevRegistration", "type", "payload", "defaultExec", "obj", "assert", "unproxy", "Observer", "main_exports", "actors_exports", "src_default", "src_default"]
}
